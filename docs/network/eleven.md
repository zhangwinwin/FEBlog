---
title: å¦‚ä½•å­¦ä¹ HTTP
---

## å‰è¨€
ä¹‹æ‰€ä»¥ä¼šå†™è¿™ä¹ˆä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯å› ä¸ºæˆ‘ä¹‹å‰å¯¹HTTPæ²¡æœ‰ä¸€ä¸ªæ•´ä½“çš„è®¤è¯†ã€‚å·¥ä½œ3å¹´æ¥ï¼Œæ—¶æ—¶åˆ»åˆ»éƒ½åœ¨ä½¿ç”¨HTTPåè®®ï¼Œä¹Ÿæ›¾å†™è¿‡å‡ ç¯‡å…³äºŽHTTPçš„æŸäº›ç»†èŠ‚çš„ä»‹ç»å’Œç”¨æ³•ã€‚ä½†æ¯å½“æœ‰äººé—®èµ·ä»€ä¹ˆæ˜¯HTTPçš„æ—¶å€™ï¼Œæ€»æ˜¯å¡ä½ä¸çŸ¥é“è¯´äº›ä»€ä¹ˆã€‚æ€»ä¸èƒ½è¯´è¿™ä¹ˆå¤šå¹´å¯¹HTTPçš„ä½¿ç”¨å°±æ˜¯è°ƒåº“å§ï¼ˆä¸æ˜¯ðŸ¤ï¼‰ã€‚

å‘ç”Ÿè¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯å› ä¸ºæˆ‘ä»¬å­¦HTTPæ—¶çš„ç”¨äº†ä¸€ä¸ªä½Žæ•ˆçš„æ–¹æ³•è®ºâ€”â€”çŸ¥è¯†ç¡¬å•ƒã€‚æœ‰å¤šå°‘äººåƒæˆ‘ä¸€æ ·æ‰“ç®—é€šè¿‡ã€ŠHTTPæƒå¨æŒ‡å—ã€‹æ¥å­¦ä¹ HTTPçš„çŸ¥è¯†ï¼Œæˆ–è€…ç›´æŽ¥é˜…è¯»RFC2616ï¼ˆæˆ‘ç›´å‘¼å¤§ç¥žï¼‰ã€‚ç»“æžœæ˜¯æ— åŠŸè€Œè¿”ï¼Œçœ‹å®Œç­‰äºŽæ²¡çœ‹ï¼Œæˆ–è€…æ ¹æœ¬çœ‹ä¸ä¸‹åŽ»ï¼Œå› ä¸ºçŸ¥è¯†çœŸçš„å¤ªæž¯ç‡¥äº†ï¼

æœ‰ä¸€ç§ç›¸å¯¹é«˜æ•ˆçš„æ–¹æ³•è®º-**WHAT-HOW-WHY**ã€‚

å½“é¢å¯¹ä¸€ä¸ªæ–°çš„çŸ¥è¯†ç‚¹ï¼Œå¦‚æžœä¸Šæ¥ç›´æŽ¥è®²åŽŸç†ï¼Œå¤§æ¦‚å¤šæ•°äººéƒ½ä¼šæ‡µé€¼

ä½†å¦‚æžœä»Žè¡¨è±¡å‡ºå‘ï¼š
* What - å…ˆäº†è§£è¿™ä¸ªä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Ÿ
* How - å†äº†è§£è¿™ä¸ªä¸œè¥¿å®ƒæ˜¯æ€Žä¹ˆä½¿ç”¨çš„ï¼Ÿ
* Why - æœ€åŽå†åŽ»äº†è§£è¿™ä¸ªä¸œè¥¿çš„åŽŸç†å’Œä¸ºä»€ä¹ˆå®žçŽ°æˆè¿™ä¸ªæ ·å­çš„ã€‚

é‚£ä¹ˆè¿™ä¸ªå­¦ä¹ è¿‡ç¨‹å°±ä¸ä¼šå¤ªè¿‡æž¯ç‡¥ï¼Œå¤šæé—®whyï¼Œå†åŽ»ä¸»åŠ¨æœç´¢èµ„æ–™è§£ç­”ã€‚è¿™ç§å°†è¢«åŠ¨æ­»è®°ç¡¬èƒŒè½¬æ¢æˆä¸»åŠ¨å­¦ä¹ æ–¹å¼æ›´èƒ½é•¿æ—¶é—´çš„ä¿å­˜è®°å¿†ã€‚

å¤§å®¶æˆ–å¤šæˆ–å°‘çš„çŸ¥é“ç‚¹HTTPæ¦‚å¿µå’Œæ€Žä¹ˆä½¿ç”¨HTTPï¼ˆè°ƒåº“ðŸ¤­ï¼‰ï¼Œæ‰€ä»¥æœ¬æ–‡é€‰æ‹©WHYçš„è§’åº¦æ¥è®²HTTPï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚

## WHY-HTTPçš„å½¢æˆ
åœ¨å­¦ä¹ HTTPçš„è¿‡ç¨‹ä¸­ï¼Œæˆ–è€…æ›´å¹¿æ³›çš„åº”ç”¨åˆ°å­¦ä¹ å…¶ä»–è®¡ç®—æœºæŠ€æœ¯æ—¶ï¼Œè¯·è®°ä½è¿™å¥è¯ï¼š**form follows function**ï¼  
åŠŸèƒ½å†³å®šå½¢å¼ã€‚å½“ä½ ç–‘æƒ‘HTTPä¸ºä»€ä¹ˆè¦è®¾è®¡æˆè¿™æ ·çš„æ—¶å€™ï¼Œä½ å°±å¾—åŽ»äº†è§£HTTPæ˜¯è¦è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚

è¯´èµ·HTTPå°±ä¸å¾—ä¸æèµ·å®ƒçš„ä¸»è¦ä½œè€…ï¼šRoy Fieldingä»¥åŠä»–çš„é‚£ç¯‡å¤§åé¼Žé¼Žçš„è®ºæ–‡[ã€ŠArchitectural Styles and the Design of Network-based Software Architecturesã€‹](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm)

Roy Fieldingåœ¨è¿™ç¯‡è®ºæ–‡ä¸­çš„æåˆ°HTTPåˆ›å»ºçš„åŽŸå› :
> Berners-Lee writes that the "Web's major goal was to be a shared information space through which **people** and **machines** could communicate."

Berners-Leeè€çˆ·å­å°±æ˜¯world-wide-webä¸‡ç»´ç½‘çš„åˆ›å§‹äººï¼Œä»–è¯´åˆ°ä¸‡ç»´ç½‘çš„ä¸»è¦ç›®çš„æ˜¯äººå’Œæœºå™¨èƒ½å¤Ÿäº¤æµä»¥åŠåˆ†äº«ä¿¡æ¯ç©ºé—´ã€‚é‡ç‚¹æ˜¯äººå’Œæœºå™¨ï¼

ç»“åˆrfc2616ä¸­æåˆ°ï¼š
> HTTP is the foundation of data communication for theÂ World Wide Web

ä¹Ÿå°±æ˜¯è¯´HTTPæ˜¯ä¸ºäº†äººå’Œæœºå™¨èƒ½å¤Ÿäº¤æµä»¥åŠåˆ†äº«ä¿¡æ¯è¿™ä¸ªä¸‡ç»´ç½‘ä¸»è¦ç›®çš„è€Œå®žçŽ°çš„è¿™ä¹ˆä¸€ç§åè®®ã€‚è¿™å°±èƒ½è¯´æ˜Žå¾ˆå¤šé—®é¢˜ï¼š
* ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸ºä»€ä¹ˆHTTPåè®®æŠ¥æ–‡æ˜¯ç”¨ASCIIç ç¼–å†™çš„ï¼Œè€Œå…¶ä»–åè®®æŠ¥æ–‡æ˜¯äºŒè¿›åˆ¶æ ¼å¼ï¼ˆæ¯”å¦‚TCPã€IPåè®®ï¼‰ã€‚å°±æ˜¯å› ä¸ºè¦æœåŠ¡äºŽäººï¼Œè¦ä¾¿äºŽäººåŽ»é˜…è¯»ã€‚
* ä¸ºä»€ä¹ˆè„šæœ¬ï¼Œæ ·å¼è¿è¡Œåœ¨å®¢æˆ·ç«¯ï¼Ÿå› ä¸ºä¾¿äºŽäººæ“ä½œå’Œäººçœ‹èµ·æ¥ç¾Žè§‚ã€‚

### å®žçŽ°ä¸‡ç»´ç½‘å¿…é¡»é¢å¯¹çš„é—®é¢˜
å®žçŽ°ä¸‡ç»´ç½‘ï¼Œwebæž¶æž„å¿…é¡»é¢å¯¹ä»¥ä¸‹é—®é¢˜ã€‚Roy Fieldingåœ¨è®ºæ–‡ä¸­æåˆ°ï¼š  
(1) **ä½Žé—¨æ§›**ï¼šä¸‡ç»´ç½‘çš„ç”¨æˆ·ä¸ä»…ä»…æ˜¯è®¡ç®—æœºä»Žä¸šäººå‘˜ï¼Œè¿˜æ˜¯ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç½‘ç«™çš„æ™®ç½—å¤§ä¼—ï¼Œæ‰€ä»¥è¦ç®€å•å’Œé€šç”¨ï¼Œè¿™ä¹Ÿæ˜¯é€‰æ‹©Hypertextçš„ä¸»è¦åŽŸå› ã€‚

(2) **å¯æ‰©å±•æ€§**ï¼šè™½ç„¶ç®€å•æ€§ä½¿å¾—éƒ¨ç½²åˆ†å¸ƒå¼ç³»ç»Ÿçš„åˆå§‹å®žçŽ°æˆä¸ºå¯èƒ½ï¼Œä½†å¯æ‰©å±•æ€§èƒ½å¤Ÿé¿å…æ°¸è¿œé™·å…¥éƒ¨ç½²çš„é™åˆ¶ã€‚ å³ä½¿å¯ä»¥æž„å»ºä¸€ä¸ªå®Œå…¨ç¬¦åˆç”¨æˆ·éœ€æ±‚çš„è½¯ä»¶ç³»ç»Ÿï¼Œè¿™äº›éœ€æ±‚ä¹Ÿä¼šéšç€æ—¶é—´çš„æŽ¨ç§»è€Œå˜åŒ–ï¼Œä¸€ä¸ªæƒ³è¦åƒWebä¸€æ ·é•¿æœŸå­˜åœ¨çš„ç³»ç»Ÿå¿…é¡»å‡†å¤‡å¥½æŽ¥å—å˜åŒ–ã€‚

(3) **åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹çš„è¶…åª’ä½“**ï¼šåˆ†å¸ƒå¼è¶…åª’ä½“å…è®¸å°†æ¼”ç¤ºå’ŒæŽ§åˆ¶ä¿¡æ¯å­˜å‚¨åœ¨è¿œç¨‹æœåŠ¡å™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†å¸ƒå¼è¶…åª’ä½“ç³»ç»Ÿä¸­çš„ç”¨æˆ·æ“ä½œéœ€è¦å°†å¤§é‡æ•°æ®ä»Žæ•°æ®å­˜å‚¨ä½ç½®ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚å› æ­¤ï¼Œå¿…é¡»ä¸ºå¤§ç²’åº¦æ•°æ®ä¼ è¾“è®¾è®¡Webæž¶æž„ã€‚

(4) **äº’è”ç½‘è§„æ¨¡**ï¼šä¸‡ç»´ç½‘æ—¨åœ¨æˆä¸ºä¸€ä¸ªäº’è”ç½‘è§„æ¨¡çš„åˆ†å¸ƒå¼è¶…åª’ä½“ç³»ç»Ÿï¼Œè¿™æ„å‘³ç€ä¸ä»…ä»…æ˜¯åœ°ç†ä¸Šçš„åˆ†æ•£ã€‚äº’è”ç½‘æ˜¯å…³äºŽè·¨è¶Šå¤šä¸ªç»„ç»‡è¾¹ç•Œçš„äº’è¿žä¿¡æ¯ç½‘ç»œã€‚ä¿¡æ¯æœåŠ¡ä¾›åº”å•†å¿…é¡»èƒ½å¤Ÿåº”å¯¹Anarchicå¯æ‰©å±•æ€§å’Œè½¯ä»¶ç»„ä»¶ç‹¬ç«‹éƒ¨ç½²çš„éœ€æ±‚ã€‚
* Anarchicå¯æ‰©å±•æ€§ï¼šAnarchicæ˜¯æ— ç§©åºï¼Œæ— æ”¿åºœçš„æ„æ€ã€‚å¤§å¤šæ•°è½¯ä»¶ç³»ç»Ÿçš„å»ºç«‹éƒ½æœ‰ä¸€ä¸ªéšå«çš„å‡è®¾ï¼Œå°±æ˜¯æ•´ä¸ªç³»ç»Ÿéƒ½åœ¨ä¸€ä¸ªå®žä½“çš„æŽ§åˆ¶ä¹‹ä¸‹ã€‚ä½†å½“ä¸€ä¸ªç³»ç»Ÿåœ¨äº’è”ç½‘ä¸Šå…¬å¼€è¿è¡Œæ—¶ï¼Œä¸èƒ½åšå‡ºè¿™ä¸ªå‡è®¾ã€‚Anarchicå¯æ‰©å±•æ€§æ˜¯æŒ‡å½“ç»™å®šæ ¼å¼é”™è¯¯æˆ–è€…æ¶æ„æž„é€ çš„æ•°æ®æ—¶ï¼Œéœ€è¦ç»§ç»­è¿è¡Œæž¶æž„ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½ä¸Žç»„ç»‡/æ”¿åºœæŽ§åˆ¶ä¹‹å¤–çš„å…ƒç´ è¿›è¡Œé€šä¿¡ã€‚å¤šä¸ªç»„ç»‡è¾¹ç•Œæ„å‘³ç€åœ¨ä»»ä½•é€šè®¯éƒ½å¯èƒ½å­˜åœ¨å¤šä¸ªä¿¡ä»»è¾¹ç•Œã€‚åº”ç”¨åœ¨äº¤äº’ä¸­åº”è¯¥å‡è®¾æ”¶åˆ°çš„ä»»ä½•ä¿¡æ¯éƒ½æ˜¯ä¸å¯ä¿¡çš„ï¼Œæˆ–è€…åœ¨ç»™ä¸Žä¿¡ä»»ä¹‹å‰éœ€è¦ä¸€äº›é¢å¤–çš„èº«ä»½éªŒè¯ã€‚

  *HTTPæä¾›äº†è®¤è¯æœºåˆ¶ï¼šåŸºæœ¬è®¤è¯æœºåˆ¶ä¸Žæ‘˜è¦è®¤è¯æœºåˆ¶*

* ç‹¬ç«‹éƒ¨ç½²ï¼šå¤šä¸ªç»„ç»‡è¾¹ç•Œè¿˜æ„å‘³ç€ç³»ç»Ÿå¿…é¡»ä¸ºæ¸è¿›å’Œç¢Žç‰‡åŒ–çš„å˜åŒ–åšå¥½å‡†å¤‡ï¼Œåœ¨è¿™ä¸ªå˜åŒ–ä¸­éœ€è¦æ–°æ—§ç³»ç»Ÿå®žçŽ°å…±å­˜ã€‚

* å‘å‰å…¼å®¹ï¼šè‡ª1993å¹´ä½¿ç”¨HTTP/0.9ï¼Œ 1996å¹´ä½¿ç”¨HTTP/1.0ã€‚åŽç»­ç‰ˆæœ¬éœ€è¦å…¼å®¹å‰é¢çš„ç‰ˆæœ¬ã€‚

     *HTTPè¢«è®¾è®¡ç”±ä¸»è¦å’Œæ¬¡è¦ç‰ˆæœ¬å·åŒºåˆ†ï¼ŒæœåŠ¡å™¨å¿…é¡»éµå®ˆå¯¹åŒ…å«åœ¨æ¯ä¸ªæ¶ˆæ¯ä¸­çš„HTTPç‰ˆæœ¬åè®®çš„çº¦æŸã€‚ç»Ÿä¸€ç”±http:\/\/è¿›è¡Œè®¿é—®ã€‚*   
     *ä½¿ç”¨Upgradeå¤´éƒ¨å…¼å®¹HTTP2å’ŒWebSocketåè®®*
  

### RESTæž¶æž„é£Žæ ¼
Roy Fieldingæå‡ºäº†ä¸€ç§RESTæž¶æž„é£Žæ ¼è¯•å›¾è§£å†³ä¸Šè¿°é—®é¢˜ã€‚

RESTå…¨ç§°ï¼š**Representtational State Transfer**ï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯è¡¨è¿°æ€§çŠ¶æ€è½¬ç§»ã€‚Roy Fieldingæå‡ºçš„ä¸€ç»„æž¶æž„çº¦æŸæ¡ä»¶å’ŒåŽŸåˆ™ï¼Œä»»ä½•æ»¡è¶³RESTçº¦æŸæ¡ä»¶å’ŒåŽŸåˆ™çš„æž¶æž„ï¼Œéƒ½ç§°ä¸ºRESTfulæž¶æž„ã€‚

é¦–å…ˆä»Žè¡¨è¿°å’ŒçŠ¶æ€è½¬ç§»è¿™ä¸¤ä¸ªå…³é”®è¯åŽ»ç†è§£REST
* è¡¨è¿°
RESTfulæž¶æž„æ˜¯åŸºäºŽèµ„æºçš„æž¶æž„ï¼Œèµ„æºçš„å«ä¹‰æ˜¯å¹¿æ³›ï¼šä»»ä½•å¯ä»¥å‘½åçš„ä¿¡æ¯éƒ½å¯ä»¥æ˜¯èµ„æºã€‚æ¯”å¦‚æ–‡æ¡£ã€å›¾åƒã€æ—¶é—´æœåŠ¡ç­‰ï¼Œèµ„æºæ˜¯åˆ°ä¸€ç»„å®žä½“çš„æ¦‚å¿µæ˜ å°„ã€‚

æ‰€ä»¥è¡¨è¿°æŒ‡çš„æ˜¯èµ„æºçš„æŸç§å½¢å¼çš„è¡¨ç¤ºï¼Œé€šå¸¸æ˜¯æŸä¸ªå…·ä½“çš„URIã€‚([æœ‰å…³URIçš„çŸ¥è¯†å¯çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ](https://juejin.cn/post/6844904167920631822))

é‚£ä¹ˆæ€Žæ ·æ‰ç®—æ˜¯ä¸€ä¸ªRESTé£Žæ ¼çš„URIå‘¢ï¼Ÿé‡ç‚¹æ˜¯**åè¯**ã€‚
```html
http://example.com/tickets/1111
http://example.com/orders/2021/12/25
```
åº”è¯¥è®©è°ƒç”¨è€…å¾ˆå®¹æ˜“åœ°æŽ¨æµ‹å‡ºURIçš„å«ä¹‰ï¼Œå®ƒä»¬æ˜Žæ˜¾åœ°æ ‡è¯†ç€å•ä¸€çš„èµ„æºã€‚
```http
http://example.com/tickets
http://example.com/orders/2021
```
ä½†è¯·è§‚å¯Ÿè¿™ä¸¤ä¸ªURIä¸Žä¸Šé¢çš„åŒºåˆ«ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ªURIå¹¶ä¸æ˜¯å¯¹æŸä¸ªå•ä¸€äº‹ç‰©çš„æ ‡è¯†ï¼Œè€Œæ˜¯å¯¹ä¸€ç±»äº‹ç‰©é›†åˆçš„æ ‡è¯†ï¼ˆå‡å¦‚ç¬¬ä¸€ä¸ªURIè¡¨ç¤ºæ‰€æœ‰çš„é—¨ç¥¨ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯å¯¹2021å¹´çš„æ‰€æœ‰è®¢å•ï¼‰ã€‚è¿™äº›é›†åˆæœ¬èº«ä¹Ÿæ˜¯èµ„æºï¼Œä¹Ÿåº”è¯¥è¢«æ ‡è¯†ã€‚

å¯ä»¥çœ‹åˆ°æ— è®ºæ˜¯ticketsè¿˜æ˜¯orderséƒ½æ˜¯ç”¨**å¤æ•°**çš„å½¢å¼åŽ»æ ‡è¯†èµ„æºï¼Œè¿™æ˜¯åˆé€‚çš„ã€‚å°½ç®¡è¯­æ–‡è€å¸ˆå¯èƒ½åå¯¹ç”¨å¤æ•°è¡¨ç¤ºå•ä¸ªèµ„æºï¼Œä½†ä¸ºäº†ä¿æŒç®€å•å¹¶ä¸”ä¿æŒURIæ ¼å¼ä¸€è‡´ï¼Œç»Ÿä¸€ä½¿ç”¨å¤æ•°å¥½å¤„å¤šå¤šï¼Œä¹Ÿä¸å¿…å†ä¸ºäº†é€‰æ‹©personè¿˜æ˜¯peopleè€Œçƒ¦æ¼ã€‚
 
*èµ„æºå¯ä»¥æœ‰å¾ˆå¤šç§è¡¨è¿°ï¼Œæ¯”å¦‚ä¸åŒè¯­è¨€çš„ç¿»è¯‘ï¼Œä¸åŒåŽ‹ç¼©æ–¹å¼ç­‰ã€‚HTTPç”¨å†…å®¹åå•†çš„æ–¹å¼åŽ»è§£å†³è¿™ç§åœºæ™¯ã€‚*

* çŠ¶æ€è½¬ç§»
çŠ¶æ€æŒ‡çš„æ˜¯èµ„æºçŠ¶æ€ã€‚èµ„æºçŠ¶æ€å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­ï¼Œå®¢æˆ·ç«¯é€šè¿‡RESTful APIï¼ŒæŒ‡å®šè¯·æ±‚æ–¹æ³•ã€èµ„æºè·¯å¾„å’Œèµ„æºè¡¨è¿°ï¼Œå¯¹èµ„æºçš„çŠ¶æ€è¿›è¡ŒCRUDä»Žè€Œæ”¹å˜èµ„æºçš„çŠ¶æ€ï¼Œç§°ä¸ºçŠ¶æ€è½¬ç§»ã€‚

å®šä¹‰å¥½èµ„æºåŽï¼Œè¿™æ—¶å€™å°±éœ€è¦ç¡®å®šå“ªäº›æ“ä½œé€‚ç”¨äºŽå®ƒä»¬ä»¥åŠè¿™äº›æ“ä½œå°†å¦‚ä½•æ˜ å°„åˆ°APIã€‚RESTfulæä¾›äº†ä½¿ç”¨HTTPæ–¹æ³•å¤„ç†CRUDæ“ä½œçš„ç­–ç•¥ï¼Œæ¯”å¦‚è¯´ï¼š
```http
GET /ticketsÂ - èŽ·å–æ‰€æœ‰çš„é—¨ç¥¨
GET /tickets/12Â - èŽ·å–æŸä¸€å¼ çš„é—¨ç¥¨
POST /ticketsÂ - åˆ›å»ºä¸€å¼ æ–°é—¨ç¥¨
PUT /tickets/12Â - ä¿®æ”¹æŸä¸€å¼ çš„é—¨ç¥¨ä¿¡æ¯
PATCH /tickets/12Â - éƒ¨åˆ†ä¿®æ”¹æŸä¸€å¼ çš„é—¨ç¥¨ä¿¡æ¯
DELETE /tickets/12Â - åˆ é™¤æŸä¸€å¼ é—¨ç¥¨
```
RESTçš„ä¼Ÿå¤§ä¹‹å¤„åœ¨äºŽå¯ä»¥åˆ©ç”¨çŽ°æœ‰çš„HTTPæ–¹æ³•åœ¨å•ä¸ª/tickets ç«¯ç‚¹ä¸Šå®žçŽ°é‡è¦çš„åŠŸèƒ½ã€‚æ— éœ€éµå¾ªä»»ä½•æ–¹æ³•å‘½åçº¦å®šï¼ŒURIç»“æž„å¹²å‡€æ¸…æ™°ã€‚

Roy fieldingåœ¨è®ºæ–‡ä¸­ä»Žä¸€ä¸ªç©ºæž¶æž„å¼€å§‹ä¸€æ­¥æ­¥åŠ çº¦æŸæŽ¨å¯¼å‡ºRESTæž¶æž„é£Žæ ¼
![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd78cc82bc104c25880663141450cd13~tplv-k3u1fbpfcp-watermark.image?)

#### RESTçš„çº¦æŸæ¡ä»¶
RESTçš„çº¦æŸæ¡ä»¶æœ‰ï¼š
* å®¢æˆ·ç«¯-æœåŠ¡å™¨
* æ— çŠ¶æ€
* ç¼“å­˜
* ç»Ÿä¸€æŽ¥å£
* åˆ†å±‚ç³»ç»Ÿ
* æŒ‰éœ€ä»£ç ï¼ˆå¯é€‰ï¼‰

ï¼ˆ1ï¼‰å®¢æˆ·ç«¯-æœåŠ¡å™¨  
å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å¼èƒ½å¤Ÿå°†ç”¨æˆ·ç•Œé¢é—®é¢˜ä¸Žæ•°æ®å­˜å‚¨é—®é¢˜åˆ†å¼€ï¼Œæé«˜äº†ç”¨æˆ·ç•Œé¢è·¨å¤šä¸ªå¹³å°çš„å¯ç§»æ¤æ€§ï¼Œå¹¶é€šè¿‡ç®€åŒ–æœåŠ¡å™¨ç»„ä»¶æé«˜äº†å¯æ‰©å±•æ€§ã€‚å¯¹Webæœ€é‡è¦çš„æ˜¯åˆ†ç¦»å…è®¸ç»„ä»¶ç‹¬ç«‹å‘å±•ï¼Œä»Žè€Œæ”¯æŒå¤šä¸ªç»„ç»‡åŸŸçš„äº’è”ç½‘è§„æ¨¡éœ€æ±‚ã€‚
![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0983ad28953341e0a5dbcac25f7767ee~tplv-k3u1fbpfcp-watermark.image?)
èµ„æºå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨åœ¨HTTPå“åº”ä¸­è¿”å›žæ‰€è¯·æ±‚çš„èµ„æºã€‚æ‰€ä»¥å®¢æˆ·ç«¯-æœåŠ¡å™¨å…±åŒæž„æˆäº†webçš„åŸºæœ¬ç»„ä»¶ã€‚

ï¼ˆ2ï¼‰æ— çŠ¶æ€  
é€šä¿¡æœ¬è´¨ä¸Šå¿…é¡»æ˜¯æ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œè¿™æ ·ä»Žå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨å¿…é¡»åŒ…å«è¯·æ±‚çš„æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶ä¸”ä¸èƒ½åœ¨æœåŠ¡å™¨ä¸Šå­˜å‚¨ä»»ä½•ä¸Šä¸‹æ–‡ã€‚è¿™ç§çº¦æŸå¯¼è‡´äº†å¯è§æ€§ã€å¯é æ€§å’Œå¯ä¼¸ç¼©æ€§å¾—åˆ°äº†æ”¹å–„ã€‚ç¼ºç‚¹å°±æ˜¯åœ¨ä¸€ç³»åˆ—è¯·æ±‚ä¸­å‘é€é‡å¤çš„è¯·æ±‚å¤´ä¿¡æ¯ã€‚

*HTTPç”¨cookieæœºåˆ¶è§£å†³äº†è¯†åˆ«ç”¨æˆ·ï¼ŒæŒä¹…ä¼šè¯çš„åœºæ™¯*

ï¼ˆ3ï¼‰ç¼“å­˜  
ç¼“å­˜çº¦æŸæ¡ä»¶ä¸»è¦æ˜¯ç”¨äºŽæ”¹å–„ç½‘ç»œçš„æ•ˆçŽ‡ã€‚ç¼“å­˜çº¦æŸæ¡ä»¶è¦æ±‚ä¸€ä¸ªè¯·æ±‚çš„å“åº”ä¸­çš„æ•°æ®è¢«éšå¼åœ°æˆ–æ˜¾å¼åœ°æ ‡è®°ä¸ºå¯ç¼“å­˜çš„æˆ–ä¸å¯ç¼“å­˜çš„ã€‚å¦‚æžœå“åº”æ˜¯å¯ç¼“å­˜çš„ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ç¼“å­˜å°±å¯ä»¥ä¸ºä»¥åŽçš„ç›¸åŒè¯·æ±‚é‡ç”¨è¿™ä¸ªå“åº”çš„æ•°æ®ï¼Œå‡å°‘äº†ç½‘ç»œäº¤äº’ï¼Œæé«˜äº†æ•ˆçŽ‡ã€å¯ä¼¸ç¼©æ€§å’Œç”¨æˆ·æ„ŸçŸ¥çš„æ€§èƒ½ã€‚

*HTTPç¼“å­˜åˆ†ä¸ºå…±äº«ç¼“å­˜ä¸Žç§æœ‰ç¼“å­˜*

ï¼ˆ4ï¼‰ç»Ÿä¸€æŽ¥å£  
å°†RESTæž¶æž„é£Žæ ¼ä¸Žå…¶ä»–åŸºäºŽæž¶æž„çš„é£Žæ ¼åŒºåˆ†å¼€æ¥çš„æ ¸å¿ƒç‰¹å¾æ˜¯å®ƒå¼ºè°ƒç»„ä»¶ä¹‹é—´çš„ç»Ÿä¸€æŽ¥å£ã€‚é€šè¿‡å°†é€šç”¨æ€§çš„è½¯ä»¶å·¥ç¨‹åŽŸç†åº”ç”¨äºŽç»„ä»¶æŽ¥å£ï¼Œç®€åŒ–äº†æ•´ä¸ªç³»ç»Ÿæž¶æž„å¹¶æé«˜äº†äº¤äº’çš„å¯è§æ€§ã€‚å®žçŽ°ä¸Žå®ƒä»¬æä¾›çš„æœåŠ¡åˆ†ç¦»ï¼Œè¿™é¼“åŠ±äº†ç‹¬ç«‹çš„å¯è¿›åŒ–æ€§ã€‚

ç„¶è€Œï¼Œç»Ÿä¸€æŽ¥å£çš„ä»£ä»·æ˜¯é™ä½Žæ•ˆçŽ‡ï¼Œå› ä¸ºä¿¡æ¯æ˜¯ä»¥æ ‡å‡†åŒ–çš„å½¢å¼è€Œä¸æ˜¯ç‰¹å®šäºŽåº”ç”¨ç¨‹åºéœ€æ±‚çš„å½¢å¼ä¼ è¾“çš„ã€‚RESTfulæŽ¥å£è¢«è®¾è®¡ä¸ºé«˜æ•ˆçš„å¤§ç²’åº¦è¶…åª’ä½“æ•°æ®ä¼ è¾“ï¼Œé’ˆå¯¹Webçš„å¸¸è§æƒ…å†µè¿›è¡Œä¼˜åŒ–ï¼Œä½†å¯¼è‡´æŽ¥å£å¯¹äºŽå…¶ä»–å½¢å¼çš„æž¶æž„äº¤äº’ä¸æ˜¯æœ€ä½³çš„ã€‚

ï¼ˆ5ï¼‰åˆ†å±‚  
åˆ†å±‚ç³»ç»Ÿæž¶æž„çº¦æŸæ¡ä»¶å°†æž¶æž„åˆ†ä¸ºè‹¥å¹²å±‚ï¼Œåˆ’å®šæ¯ä¸€å±‚çš„è¾¹ç•Œï¼Œä»Žè€Œé™ä½Žæ¯ä¸€å±‚è®¾è®¡çš„å¤æ‚åº¦ã€‚åŒæ—¶ï¼Œé€šè¿‡åˆ†å±‚ï¼Œå¯ä»¥æŠ½è±¡åº•å±‚çš„å¼‚æž„æ€§ï¼Œç»™ä¸Šå±‚æä¾›ç»Ÿä¸€çš„æŽ¥å£ï¼Œç®€åŒ–ä¸Šå±‚çš„é€»è¾‘ã€‚

ï¼ˆ6ï¼‰æŒ‰éœ€ä»£ç   
RESTå…è®¸é€šè¿‡ä¸‹è½½å’Œæ‰§è¡Œå°ç¨‹åºæˆ–è„šæœ¬å½¢å¼çš„ä»£ç æ¥æ‰©å±•å®¢æˆ·ç«¯åŠŸèƒ½ã€‚è¿™é€šè¿‡å‡å°‘éœ€è¦é¢„å…ˆå®žçŽ°çš„åŠŸèƒ½æ•°é‡æ¥ç®€åŒ–å®¢æˆ·ç«¯ã€‚å…è®¸åœ¨éƒ¨ç½²åŽä¸‹è½½åŠŸèƒ½æé«˜äº†ç³»ç»Ÿå¯æ‰©å±•æ€§ã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¼šé™ä½Žå¯è§æ€§ï¼Œå› æ­¤å®ƒåªæ˜¯RESTä¸­çš„ä¸€ä¸ªå¯é€‰çº¦æŸã€‚

### åŸºäºŽTCPåè®®
ä¸–ç•Œä¸Šå‡ ä¹Žæ‰€æœ‰çš„HTTPé€šä¿¡éƒ½æ˜¯ç”±TCPæ‰¿è½½çš„ï¼Œå®¢æˆ·ç«¯appæ‰“å¼€ä¸€æ¡TCPè¿žæŽ¥ï¼Œè¿žæŽ¥åˆ°å¯èƒ½è¿è¡Œåœ¨ä¸–ç•Œä»»ä½•åœ°æ–¹çš„æœåŠ¡å™¨appä¸­ã€‚ä¸€æ—¦è¿žæŽ¥å»ºç«‹ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„è®¡ç®—æœºä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡å°±æ°¸è¿œä¸ä¼šä¸¢å¤±ã€å—æŸæˆ–æ˜¯å¤±åºã€‚

#### TCPåè®®
HTTPè¿žæŽ¥å®žé™…ä¸Šå°±æ˜¯TCPè¿žæŽ¥å’Œä¸€äº›ä½¿ç”¨è¿žæŽ¥çš„è§„åˆ™ã€‚TCPè¿žæŽ¥æ˜¯å› ç‰¹ç½‘ä¸Šå¯é çš„è¿žæŽ¥ã€‚æƒ³è¦æ­£ç¡®ã€å¿«é€Ÿåœ°å‘é€æ•°æ®ï¼Œå°±éœ€è¦äº†è§£TCPçš„ä¸€äº›åŸºæœ¬è®¤è¯†ã€‚

TCPæ˜¯ä¸€ä¸ªé¢å‘è¿žæŽ¥ã€å¯é çš„ã€åŸºäºŽå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šè®¯åè®®ã€‚ä¼ è¾“å±‚åè®®æŒ‡çš„æ˜¯ä¸ºè¿è¡Œåœ¨ä¸åŒä¸»æœºä¸Šåº”ç”¨ç¨‹åºè¿›ç¨‹ä¹‹é—´çš„é€»è¾‘é€šè®¯ã€‚
* é¢å‘è¿žæŽ¥ï¼š1å¯¹1æ‰å«é¢å‘è¿žæŽ¥ï¼ˆå®¢æˆ·ç«¯ä¸ŽæœåŠ¡å™¨æœºåˆ¶ï¼‰ï¼Œåœ¨HTTPæŠ¥æ–‡å¼€å§‹å‘å‡ºå‰ï¼ŒTCPä¼šå…ˆè®©å®¢æˆ·ä¸ŽæœåŠ¡å™¨ä¹‹é—´äº’ç›¸äº¤æ¢TCPæŽ§åˆ¶ä¿¡æ¯ã€‚è¿™ä¸ªæ¡æ‰‹è¿‡ç¨‹æç¤ºå®¢æˆ·ç«¯ä¸ŽæœåŠ¡å™¨ï¼Œä½¿å®ƒä»¬ä¸ºå¤§é‡åˆ†ç»„çš„åˆ°æ¥åšå¥½å‡†å¤‡ã€‚åœ¨æ¡æ‰‹é˜¶æ®µåŽï¼Œä¸€ä¸ªTCPè¿žæŽ¥å°±åœ¨ä¸¤ä¸ªè¿›ç¨‹çš„å¥—æŽ¥å­—ä¹‹é—´å»ºç«‹èµ·æ¥ã€‚è¿™æ¡è¿žæŽ¥æ˜¯å…¨åŒå·¥çš„ï¼Œå³è¿žæŽ¥åŒæ–¹çš„è¿›ç¨‹å¯ä»¥åœ¨æ­¤è¿žæŽ¥ä¸Šè¿›è¡ŒæŠ¥æ–‡çš„æ”¶å‘ã€‚

* å¯é çš„æ•°æ®ä¼ è¾“ï¼šé€šä¿¡è¿›ç¨‹èƒ½å¤Ÿä¾é TCPã€æ— é”™è¯¯ã€æŒ‰é€‚å½“é¡ºåºäº¤ä»˜æ‰€æœ‰å‘é€çš„æŠ¥æ–‡ã€‚å½“åº”ç”¨ç¨‹åºçš„ä¸€ç«¯å°†å­—èŠ‚ä¼ è¿›å¥—æŽ¥å­—æ—¶ï¼Œå®ƒèƒ½å¤Ÿä¾é TCPå°†ç›¸åŒçš„å­—èŠ‚æµäº¤ä»˜ç»™æŽ¥æ”¶æ–¹çš„å¥—æŽ¥å­—ï¼Œè€Œæ²¡æœ‰å­—èŠ‚çš„ä¸¢å¤±å’Œå†—ä½™ã€‚

* åŸºäºŽå­—èŠ‚æµï¼šæ¶ˆæ¯æ˜¯æ²¡æœ‰è¾¹ç•Œçš„ï¼Œæ‰€ä»¥æ— è®ºå¤šå¤§çš„æ¶ˆæ¯éƒ½èƒ½ä¼ è¾“ã€‚å¹¶ä¸”æ¶ˆæ¯æ˜¯æŒ‰åºçš„ï¼Œå½“å‰ä¸€ä¸ªæŠ¥æ–‡ä¸¢å¤±ï¼ŒåŽç»­çš„æŠ¥æ–‡éƒ½ä¸èƒ½ç”¨ï¼Œåªæœ‰é‡å‘ä¸¢å¤±çš„æŠ¥æ–‡ä¹‹åŽæ‰èƒ½ç”¨å…ˆå‰æŽ¥æ”¶åˆ°çš„åŽç»­æŠ¥æ–‡ã€‚

å¯èƒ½å¤§å®¶ä¸€å¼€å§‹çœ‹HTTPæŠ¥æ–‡æ ¼å¼çš„æ—¶å€™ï¼Œä¸ä¼šæ³¨æ„ï¼ˆä¹Ÿæœ‰å¾ˆå¤šæ–‡ç« ä¸ä¼šæåŠï¼‰**æ¯ä¸€è¡Œéƒ½æœ‰æ˜Žç¡®çš„åˆ†æ®µï¼šcrlf**
![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20b911442bef4a138c6ff713ddec74f4~tplv-k3u1fbpfcp-watermark.image?)
è¿™æ˜¯ä¸ºäº†é€‚åº”TCPè€Œè®¾è®¡çš„ã€‚TCPæ˜¯åŸºäºŽå­—èŠ‚æµï¼Œå½“å¤§æŠ¥æ–‡ä¼ è¿›TCPæ—¶ï¼Œæ ¹æ®æ¡æ‰‹åŒæ–¹è€Œåˆ¶å®šçš„æŠ¥æ–‡æ®µå¤§å°ï¼ˆç§°ä¸ºMSSï¼‰ï¼Œä¼šå°†æŠ¥æ–‡åˆ†ä¸ºå¾ˆå¤šæ®µã€‚TCPåªè´Ÿè´£ä¼ è¾“æŠ¥æ–‡æ®µï¼Œè€Œä¸ä¼šåšè¾¹ç•Œå¤„ç†ï¼Œè¿™å°±éœ€è¦HTTPæ¥åˆ’åˆ†è¾¹ç•Œã€‚é™¤å®žä½“ä¹‹å¤–çš„HTTPæŠ¥æ–‡è¦ä»¥crlfåˆ†æ®µå¤„ç†ã€‚

æŠ¥æ–‡çš„å®žä½“ä¸»ä½“ï¼ˆåŒ…ä½“ï¼‰ä¸€æ ·éœ€è¦è¾¹ç•Œå¤„ç†ã€‚HTTPåŒ…ä½“ä¼ è¾“æœ‰ä¸¤ç§æ–¹å¼ï¼š
* å®šé•¿åŒ…ä½“ï¼Œä½¿ç”¨Content-Lengthè¡¨ç¤ºã€‚å½“Content-Lengthå°äºŽå®žé™…åŒ…ä½“å­—èŠ‚æ•°ï¼Œæµè§ˆå™¨å°±ä¼šæŠ›å¼ƒåŽç»­çš„å­—èŠ‚ã€‚å¦‚æžœå¤§äºŽï¼Œåˆ™ä¼šæŠ¥é”™ã€‚
* ä¸å®šé•¿åŒ…ä½“ï¼Œä½¿ç”¨Transfer-EncodingæŒ‡æ˜Žä½¿ç”¨chunkä¼ è¾“ã€‚å°†åŒ…ä½“åˆ†ä¸ºä¸€ä¸ªä¸ªchunkä¼ è¾“ï¼Œæœ€åŽä¸€ä¸ªchunkä½¿ç”¨last-chunkè¡¨æ˜Žï¼Œæœ€åŽæºå¸¦åŒ…ä½“æ€»é•¿åº¦ã€‚

### å›žè¿‡å¤´æ¥
ç”±äºŽç¯‡å¹…åŽŸå› ï¼Œè¿˜æ²¡æåˆ°çš„å†…å®¹ç•™ç»™è¯»è€…åŽ»æŒ–æŽ˜è§£è¯»ã€‚  
è¿™æ—¶å€™å†å›žè¿‡å¤´çœ‹RFC7230ä¸­HTTPå®šä¹‰ï¼Œè¿™äº›ä¸ªå½¢å®¹è¯æ˜¯ä¸æ˜¯å°±æ˜¾ç¤ºé€šä¿—æ˜“æ‡‚æ‹‰ï¼Ÿ
> The Hypertext Transfer Protocol (HTTP) is a *stateless* *application-level* *request/response* protocol that uses *extensible semantics* and *self-descriptive* message payloads for *flexible* interaction with network-based *hypertext* information systems


