(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{443:function(e,s,t){"use strict";t.r(s);var n=t(57),a=Object(n.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[e._v("前言")]),e._v(" "),t("p",[e._v("作为程序员，没有比临上线前发现之前的更改的代码导致应用崩溃更糟糕的事了。而唯一能够确保应用正常的工作的只有进行程序的测试。所以说对应用进行全面的测试是很重要的一件事了。")]),e._v(" "),t("p",[e._v("高效的测试方法可以加快开发速度，提高代码质量，尽早发现并去除代码中的"),t("code",[e._v("BUG")]),e._v("。测试驱动开发"),t("code",[e._v("（TDD）")]),e._v("是一种在编写代码先编写测试代码的工作流程，即在编写代码前，得先编写能够确保组件正常运行的测试代码。")]),e._v(" "),t("p",[e._v("而单元测试是对应用程序最小的单元运行测试的过程。通常是函数，但在"),t("code",[e._v("VUE")]),e._v("中，组件也是单元，因为组件的本质就是函数。")]),e._v(" "),t("p",[e._v("下面简单的说说如何使用"),t("code",[e._v("JEST")]),e._v("进行"),t("code",[e._v("VUE")]),e._v("的单元测试。如果不熟悉"),t("code",[e._v("JEST")]),e._v("与"),t("code",[e._v("VUE")]),e._v("，建议看看官网。")]),e._v(" "),t("p",[e._v("示例代码在"),t("a",{attrs:{href:"https://github.com/zhangwinwin/FEBlog/tree/master/unitest",target:"_blank",rel:"noopener noreferrer"}},[e._v("github"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"组件的单元测试"}},[e._v("组件的单元测试")]),e._v(" "),t("p",[e._v("单元是应用中最小的可测试部分。在"),t("code",[e._v("VUE")]),e._v("中，组件与函数都是可测试的单元。")]),e._v(" "),t("h3",{attrs:{id:"搭载测试环境"}},[e._v("搭载测试环境")]),e._v(" "),t("p",[e._v("对于新项目来说，可以使用"),t("code",[e._v("VUE-CLI")]),e._v("工具创建项目（版本如图所示）\n"),t("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43575777a7254a8eaf32bd7b0e522503~tplv-k3u1fbpfcp-watermark.image",alt:""}}),e._v(" "),t("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb0b878cd8c2461c99551fedf4ef9179~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),t("p",[e._v("只需要在选择配置时"),t("code",[e._v("☑️Unit Testing")]),e._v("，并选择"),t("code",[e._v("JEST")]),e._v("作为测试框架即可。")]),e._v(" "),t("p",[e._v("而对于现有项目而言（针对"),t("code",[e._v("@vue/cli")]),e._v("）想增加"),t("code",[e._v("jest")]),e._v("测试模块。运行以下命令行就会帮我们去安装"),t("code",[e._v("jest")]),e._v("模块。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("vue add unit-jest\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("如果你是一个动手能力较强的同学，还可以自己去搭建测试环境，可以参考"),t("a",{attrs:{href:"https://vue-test-utils.vuejs.org/zh/guides/#%E8%B5%B7%E6%AD%A5",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue Test Utils"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("好了，现在可以进行单元测试了。")]),e._v(" "),t("h3",{attrs:{id:"挂载组件"}},[e._v("挂载组件")]),e._v(" "),t("p",[e._v("当导入一个"),t("code",[e._v("VUE")]),e._v("组件时，它只是一个带有渲染函数和一些属性的对象或者函数。要测试组件行为，则首先得启动它并开启渲染过程。按照"),t("code",[e._v("VUE")]),e._v("的说法就是需要挂载组件。")]),e._v(" "),t("p",[e._v("挂载组件，需要将组件选项转换为一个"),t("code",[e._v("VUE")]),e._v("构造函数。而组件选项对象不是一个有效的的构造函数，它只是一个普通的"),t("code",[e._v("JavaScript")]),e._v("对象。这时可以使用"),t("code",[e._v("Vue.extend")]),e._v("方法从选项中创建一个"),t("code",[e._v("VUE")]),e._v("构造函数:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import Vue from 'vue';\nimport Home from '@/views/Home.vue';\nconst Ctor = Vue.extend(Home);\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("这时，就可以使用"),t("code",[e._v("new")]),e._v("操作符来创建一个实例：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const vm = new Ctor();\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("通常，"),t("code",[e._v("VUE")]),e._v("使用"),t("code",[e._v("el")]),e._v("选项在文档中查找添加的被渲染"),t("code",[e._v("DOM")]),e._v("节点。但一般的组件构造函数并没有"),t("code",[e._v("el")]),e._v("选项，因此在创建实例时，它不会自动挂载并生成"),t("code",[e._v("DOM")]),e._v("节点，需要手动调用"),t("code",[e._v("$mount")]),e._v("方法：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const vm = new Ctor().$mount()\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("当调用"),t("code",[e._v("$mount")]),e._v("时，"),t("code",[e._v("VUE")]),e._v("将生成一些"),t("code",[e._v("DOM")]),e._v("节点，可以使用实例中"),t("code",[e._v("$el")]),e._v("属性在测试中访问这些节点:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("expect(vm.$el.textContent).toContain('Welcome to Your Vue.js App')\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[t("code",[e._v("VUE")]),e._v("要使用"),t("code",[e._v("DOM")]),e._v("方法创建一个"),t("code",[e._v("DOM")]),e._v("树。这不意味着"),t("code",[e._v("VUE")]),e._v("组件的单元测试必须在浏览器环境中运行。因为在默认情况下，"),t("code",[e._v("Jest")]),e._v("会在"),t("code",[e._v("jsdom")]),e._v("库创建的浏览器环境中运行测试。"),t("code",[e._v("jsdom")]),e._v("是一个"),t("code",[e._v("DOM")]),e._v("实现，它完全是由运行在"),t("code",[e._v("DOM")]),e._v("中的"),t("code",[e._v("JavaScript")]),e._v("编写的。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import Vue from 'vue';\nimport Home from '@/views/Home.vue';\n\ndescribe('Home.vue', () => {\n  it('renders msg when mounted', () => {\n    const msg = 'Welcome to Your Vue.js App';\n    // 使用Home选项创建一个新的Vue构造函数\n    const Ctor = Vue.extend(Home);\n    // 创建一个新的Vue实例并挂载该实例\n    const vm = new Ctor().$mount();\n    // 访问DOM元素，检查文本内容\n    expect(vm.$el.textContent).toContain(msg)\n  })\n})\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br")])]),t("p",[e._v("运行"),t("code",[e._v("yarn run test:unit")]),e._v("，测试通过\n"),t("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ed9b2dd886a4829870a125a2d7a18d9~tplv-k3u1fbpfcp-watermark.image",alt:""}})]),e._v(" "),t("h3",{attrs:{id:"使用vue-test-utils"}},[e._v("使用"),t("code",[e._v("Vue Test Utils")])]),e._v(" "),t("p",[e._v("挂载组件需要自己去创建构造函数并且手动挂载。与其自己编写这些代码，不如使用"),t("code",[e._v("Vue Test Utils")]),e._v("库来帮忙实现。")]),e._v(" "),t("p",[t("code",[e._v("Vue Test Utils")]),e._v("库会让"),t("code",[e._v("Vue")]),e._v("组件单元测试变得更加简单。它包含一些辅助方法可以实现组件挂载、与组件交互以及断言组件输出。")]),e._v(" "),t("p",[t("code",[e._v("Vue Test Utils")]),e._v("会导出一个"),t("code",[e._v("mount")]),e._v("方法，该方法在接收一个组件后，会将其挂载并返回一个包含被挂载组件实例"),t("code",[e._v("vm")]),e._v("的包装器对象。之所以会返回包装器对象而不直接返回"),t("code",[e._v("vm")]),e._v("实例，是因为包装器不仅仅只有实例"),t("code",[e._v("vm")]),e._v("，还包括一些辅助方法。其中一个方法就是"),t("code",[e._v("text")]),e._v("，它返回实例的"),t("code",[e._v("textContent")]),e._v("。")]),e._v(" "),t("p",[e._v("使用"),t("code",[e._v("Vue Test Utils")]),e._v("库改造刚刚的测试")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import { mount } from '@vue/test-utils';\nimport Home from '@/views/Home.vue';\n\ndescribe('Home.vue', () => {\n  it('renders msg when mounted', () => {\n    const msg = 'Welcome to Your Vue.js App';\n    // 使用mount方法挂载组件\n    const wrapper = mount(Home);\n    // 检查文本内容\n    expect(wrapper.text()).toContain(msg)\n  })\n})\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br")])]),t("h4",{attrs:{id:"使用shallowmount"}},[e._v("使用"),t("code",[e._v("shallowMount")])]),e._v(" "),t("p",[e._v("除了"),t("code",[e._v("mount")]),e._v("方法，"),t("code",[e._v("Vue Test Utils")]),e._v("还包含一个"),t("code",[e._v("shallowMount")]),e._v("方法。"),t("code",[e._v("shallowMount")]),e._v("不会像"),t("code",[e._v("mount")]),e._v("一样渲染整个组件树，它只渲染一层组件树\n"),t("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/130620b309254f75bbb66bfc5d48bf2d~tplv-k3u1fbpfcp-watermark.image",alt:""}}),e._v("\n与"),t("code",[e._v("mount")]),e._v("相似，"),t("code",[e._v("shallowMount")]),e._v("挂载一个组件并返回一个包装器。不同之处在于，"),t("code",[e._v("shallowMount")]),e._v("在挂载组件之前对所有子组件进行存根。")]),e._v(" "),t("p",[t("code",[e._v("shallowMount")]),e._v("可以确保对一个组件进行独立测试，有助于避免测试中因子组件的渲染输出而混乱结果。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("describe('Home.vue', () => {\n  it('renders msg when mounted', () => {\n    const msg = 'Welcome to Your Vue.js App';\n    // 使用shallowMount方法挂载组件\n    const wrapper = shallowMount(Home);\n    // 检查文本内容\n    expect(wrapper.text()).toContain(msg)\n  })\n})\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("h3",{attrs:{id:"输出测试"}},[e._v("输出测试")]),e._v(" "),t("h4",{attrs:{id:"测试prop"}},[e._v("测试"),t("code",[e._v("prop")])]),e._v(" "),t("p",[e._v("为一个组件编写单元测试时，需要为组件提供生成环境中接收到的输入数据。如果组件在生产环境中接收一个"),t("code",[e._v("prop")]),e._v("，需要在组件挂载到测试时为组件提供该"),t("code",[e._v("prop")]),e._v("。")]),e._v(" "),t("p",[e._v("使用"),t("code",[e._v("Vue Test Utils")]),e._v("将"),t("code",[e._v("prop")]),e._v("作为一个选项对象传递给组件：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import { shallowMount } from '@vue/test-utils';\nimport Hello from '@/components/HelloWorld.vue';\n\ndescribe('HelloWorld.vue', () => {\n  it('renders msg when mounted', () => {\n    const msg = 'hello, world';\n    // 使用shallowMount方法挂载组件\n    const wrapper = shallowMount(Hello, {\n      propsData: {\n        msg\n      }\n    });\n    // 检查文本内容\n    expect(wrapper.text()).toContain(msg)\n  })\n})\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br")])]),t("p",[e._v("运行"),t("code",[e._v("yarn run test:unit")]),e._v("，测试通过!")]),e._v(" "),t("p",[e._v("包装器"),t("code",[e._v("text")]),e._v("方法将返回组件渲染的所有文本。"),t("code",[e._v("toContain")]),e._v("匹配器会检查一个值是否包含在它所检查的字符串中的某个位置，它有点像"),t("code",[e._v("string.prorotype.includes")]),e._v("方法。")]),e._v(" "),t("p",[e._v("而像上面例子，"),t("code",[e._v("props")]),e._v("中的"),t("code",[e._v("msg")]),e._v("变量是渲染在"),t("code",[e._v("<h1>")]),e._v("标签上的，没有必要去匹配组件下的全部文本，需要测试"),t("code",[e._v("<h1>")]),e._v("标签上的文本是否匹配即可。这时可以使用包装器的"),t("code",[e._v("find")]),e._v("方法。")]),e._v(" "),t("p",[t("code",[e._v("find")]),e._v("方法可以为渲染输出中的每个节点获取包装器，而且"),t("code",[e._v("find")]),e._v("会搜索与选择器匹配的第一个节点的渲染输出，并返回包含给匹配节点的包装器。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/ 检查文本内容\n    expect(wrapper.find('h1').text()).toContain(msg)\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("并不是所有"),t("code",[e._v("prop")]),e._v("都渲染出文本。所以还要检查组件实例是否接收正确的"),t("code",[e._v("prop")]),e._v("。这时可以使用"),t("code",[e._v("props")]),e._v("方法。")]),e._v(" "),t("p",[t("code",[e._v("props")]),e._v("方法是一个包装器方法。它返回一个对象，其中包含一个包装器组件实例及它们的值"),t("code",[e._v("prop")]),e._v("。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("expect(wrapper.props().msg).toBe(msg)\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("使用"),t("code",[e._v("toBe")]),e._v("匹配器检查组件所有的渲染文本是否违反此原则。")]),e._v(" "),t("p",[e._v("还可以检查当前组件传值是否正确")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const wrapper = shallowMount(fatherComponent)\nexpect(wrapper.find(ChildComponent).props().propA).toBe('example')\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("这里需要注意的是，如果一个组件未声明要接收一个"),t("code",[e._v("prop")]),e._v("，则"),t("code",[e._v("prop")]),e._v("不会被添加到这个"),t("code",[e._v("Vue")]),e._v("实例中。")]),e._v(" "),t("h4",{attrs:{id:"测试dom属性"}},[e._v("测试DOM属性")]),e._v(" "),t("p",[e._v("在"),t("code",[e._v("Vue Test Utils")]),e._v("包装器中，有一个"),t("code",[e._v("attribute")]),e._v("方法，可以返回组件属性对象。可以使用该对象来测试属性值")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const a = wrapper.find('a');\nexpect(a.attributes().href === 'http://cli.vuejs.org').toBa(true)\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5eec37ee949b4f83a710865eb8000280~tplv-k3u1fbpfcp-watermark.image",alt:""}}),e._v("\n错误信息显示：期望是"),t("code",[e._v("true")]),e._v("，返回的是"),t("code",[e._v("false")]),e._v("。这是一个"),t("code",[e._v("Boolean")]),e._v("断言，这样的信息并没有很清晰的了解到测试为什么会失败，所以应该要避免"),t("code",[e._v("Boolean")]),e._v("断言。应该使用值断言代替它\n"),t("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c846b7f034e946fab50ab6f071e4284a~tplv-k3u1fbpfcp-watermark.image",alt:""}}),e._v("\n这样就非常清楚是哪里的问题导致测试失败了。")]),e._v(" "),t("h4",{attrs:{id:"测试样式"}},[e._v("测试样式")]),e._v(" "),t("p",[e._v("在"),t("code",[e._v("Vue Test Utils")]),e._v("包装器中，有一个"),t("code",[e._v("classes")]),e._v("方法，返回一个"),t("code",[e._v("class")]),e._v("数组。可以对此进行断言，查看元素是否具有一个"),t("code",[e._v("class")]),e._v("。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("expect(a.classes()).toContain('firstA')\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[t("code",[e._v("toContain")]),e._v("匹配器不仅可以检查一个字符串中是否包含另一个字符串，还能比较数组中的值。")]),e._v(" "),t("p",[e._v("通常来说测试内联样式是没有价值的，但有时候不得不去测试一个内联样式。比如说：进度条组件，动态地添加一个内联样式。这时就需要直接访问包装器元素并获取样式属性值。")]),e._v(" "),t("p",[e._v("每一个包装器都包含一个"),t("code",[e._v("element")]),e._v("属性，它是对包装器包含的"),t("code",[e._v("DOM")]),e._v("根节点的引用。可以使用它来访问内联元素")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("expect(a.element.style.fontSize).toBe('14px')\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);