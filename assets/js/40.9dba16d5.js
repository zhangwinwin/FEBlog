(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{438:function(o,a,t){"use strict";t.r(a);var r=t(57),e=Object(r.a)({},(function(){var o=this,a=o.$createElement,t=o._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[t("section",{staticStyle:{"font-size":"16px",padding:"0 10px","word-spacing":"0px","word-break":"break-word","word-wrap":"break-word","text-align":"left","line-height":"1.75",color:"#595959","font-family":"Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light","letter-spacing":"2px","background-image":"linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%)","background-size":"20px 20px","background-position":"center center"},attrs:{id:"nice","data-tool":"mdnice编辑器","data-website":"https://www.mdnice.com"}},[t("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"22px","text-align":"left",margin:"20px 10px 0px 0px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block","padding-left":"10px","border-left":"5px solid #DEC6FB",color:"#595959"}},[o._v("前言")]),t("span",{staticClass:"suffix"})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("最近一直在阅读"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("的源码，发现了几个实战中用得上的小技巧，下面跟大家分享一下。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("同时也可以阅读我之前写的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("文章")]),o._v(" "),t("ul",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px","font-size":"15px",color:"#595959","list-style-type":"circle"},attrs:{"data-tool":"mdnice编辑器"}},[t("li",[t("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left","font-size":"14px","font-weight":"normal",color:"#595959"}},[t("a",{staticStyle:{"text-decoration":"none","word-wrap":"break-word",color:"#664D9D","font-weight":"normal","border-bottom":"1px solid #664D9D"},attrs:{href:"https://juejin.im/post/6844904132193566728"}},[o._v('vue开发中的"骚操作"')])])]),t("li",[t("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left","font-size":"14px","font-weight":"normal",color:"#595959"}},[t("a",{staticStyle:{"text-decoration":"none","word-wrap":"break-word",color:"#664D9D","font-weight":"normal","border-bottom":"1px solid #664D9D"},attrs:{href:"https://juejin.im/post/6854573213712973832"}},[o._v("挖掘隐藏在源码中的Vue技巧！")])])]),t("li",[t("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left","font-size":"14px","font-weight":"normal",color:"#595959"}},[t("a",{staticStyle:{"text-decoration":"none","word-wrap":"break-word",color:"#664D9D","font-weight":"normal","border-bottom":"1px solid #664D9D"},attrs:{href:"https://juejin.im/post/6844904202431365128"}},[o._v("抽丝剥茧般的阅读源码，将$nextTick()拉下神坛！")])])])]),o._v(" "),t("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"22px","text-align":"left",margin:"20px 10px 0px 0px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block","padding-left":"10px","border-left":"5px solid #DEC6FB",color:"#595959"}},[o._v("隐藏在源码中的技巧")]),t("span",{staticClass:"suffix"})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在实例化"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("时，首先调用的是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue.prototype._init")]),o._v("方法，而在此方法中"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeOptions()")]),o._v("方法返回的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("options")]),o._v("将运用在所有的初始化函数中。也就是如下代码：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("vm.$options = mergeOptions("),t("br"),o._v(" resolveConstructorOptions(vm.coustructor),"),t("br"),o._v("    options || {},"),t("br"),o._v("    vm"),t("br"),o._v(")"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("其中"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeOptions")]),o._v("方法在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("core/util/options.js")]),o._v("文件中，最后这个方法返回的是一个"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("options")]),o._v("对象。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" options"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这就说明了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeOptions")]),o._v("方法最终将合并处理后的选项返回，并以该返回值作为"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm.$options")]),o._v("的值。")]),o._v(" "),t("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px",color:"black","font-size":"16px","font-weight":"bold","text-align":"center"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"border-bottom":"2px solid #DEC6FB",color:"#595959"}},[o._v("自定义选项的合并方法")]),t("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("如果我们在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("options")]),o._v("中添加自定义的属性会怎么样？来自官方的例子：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("new")]),o._v(" Vue({"),t("br"),o._v("  "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("customOption")]),o._v(": "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'foo'")]),o._v(","),t("br"),o._v("  "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("created")]),o._v(": "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{"),t("br"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("this")]),o._v(".$options.customOption) "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// => 'foo'")]),t("br"),o._v("  }"),t("br"),o._v("})"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在创建"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("实例的时候传递了一个自定义选项："),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("customOptions")]),o._v("，在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("created")]),o._v("中可以通过"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("this.$options.customOption")]),o._v("进行访问。原理其实就是使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeOptions")]),o._v("函数对自定义选项进行合并处理。对于自定义选项的合并，采用的是默认的合并策略：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// 当一个选项没有对应的策略函数时，使用默认策略")]),t("br"),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" strat = strats[key] || defaultStrat"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("defaultStrat")]),o._v("函数就定义在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("options.js")]),o._v("文件内，源码如下")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("/**"),t("br"),o._v(" * Default strategy."),t("br"),o._v(" */")]),t("br"),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" defaultStrat = "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("parentVal: any, childVal: any")]),o._v("): "),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("any")]),o._v(" ")]),o._v("{"),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" childVal === "),t("span",{staticClass:"hljs-literal",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("undefined")]),t("br"),o._v("    ? parentVal"),t("br"),o._v("    : childVal"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("defaultStart")]),o._v("作用如其名，它是一个默认的合并策略：只要子选项不是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("undefined")]),o._v("则使用子选项，否则使用父选项。最终的效果就是你初始化了什么，得到的就是什么。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("而且"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("也提供了一个全局配置叫"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue.config.optionMergeStrategies")]),o._v("，这个对象就是选项合并中的策略对象，所以可以通过它指定某一个选项的合并策略，常用于指定自定义选项的合并策略，比如可以给"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("customOption")]),o._v("选项指定一个合并策略，只需要在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("config.optionMergeStrategies")]),o._v("上添加与选项同名的策略函数即可：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("Vue.config.optionMergeStrategies.customOption = "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("parentVal, childVal")]),o._v(") ")]),o._v("{"),t("br"),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" parentVal ? (parentVal + childVal) : childVal"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("自定义"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("customOption")]),o._v("的合并策略是：如果没有"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal")]),o._v("则直接返回"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("childVal")]),o._v("，否则返回两者的和。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("比如下面例子：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// 创建子类")]),t("br"),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" Sub = Vue.extend({"),t("br"),o._v(" "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("customOption")]),o._v(": "),t("span",{staticClass:"hljs-number",staticStyle:{color:"#B8D7A3","line-height":"26px"}},[o._v("1")]),t("br"),o._v("})"),t("br"),t("br"),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// 以子类创建实例")]),t("br"),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" vm = "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("new")]),o._v(" Sub({"),t("br"),o._v(" "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("customOption")]),o._v(": "),t("span",{staticClass:"hljs-number",staticStyle:{color:"#B8D7A3","line-height":"26px"}},[o._v("2")]),o._v(","),t("br"),o._v("    created () {"),t("br"),o._v("     "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("this")]),o._v(".$options.customOption) "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// 3")]),t("br"),o._v("    }"),t("br"),o._v("})"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("结果是在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("created")]),o._v("方法中打印数字3。自定义合并选项的策略函数，这非常实用。")]),o._v(" "),t("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px",color:"black","font-size":"16px","font-weight":"bold","text-align":"center"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"border-bottom":"2px solid #DEC6FB",color:"#595959"}},[o._v("vm.$createElement")]),t("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initRender")]),o._v("中，定义了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm.$createElement()")]),o._v("方法，"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initRender")]),o._v("在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("core/instance/render.js")]),o._v("文件。在该函数中有以下一段代码：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// bind the createElement fn to this instance")]),t("br"),o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// so that we get proper render context inside it.")]),t("br"),o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// args order: tag, data, children, normalizationType, alwaysNormalize")]),t("br"),o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// internal version is used by render functions compiled from templates")]),t("br"),o._v("  vm._c = "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("a, b, c, d")]),o._v(") =>")]),o._v(" createElement(vm, a, b, c, d, "),t("span",{staticClass:"hljs-literal",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("false")]),o._v(")"),t("br"),o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// normalization is always applied for the public version, used in")]),t("br"),o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// user-written render functions.")]),t("br"),o._v("  vm.$createElement = "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("a, b, c, d")]),o._v(") =>")]),o._v(" createElement(vm, a, b, c, d, "),t("span",{staticClass:"hljs-literal",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("true")]),o._v(")"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这段代码在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("实例对象上添加了两个方法：")]),o._v(" "),t("ul",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px","font-size":"15px",color:"#595959","list-style-type":"circle"},attrs:{"data-tool":"mdnice编辑器"}},[t("li",[t("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left","font-size":"14px","font-weight":"normal",color:"#595959"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm._c")])])]),t("li",[t("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left","font-size":"14px","font-weight":"normal",color:"#595959"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm.$createElement")])])])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这两个方法实际上是对内函数"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("createElement")]),o._v("的包装。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("render: "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" (createElement) {"),t("br"),o._v(" "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" createElement("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'h2'")]),o._v(", "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'title'")]),o._v(")"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("总所周知，渲染函数的第一个参数就是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("createElement")]),o._v("函数，该函数用来创建虚拟节点，通过上面的了解，你也可以这样写")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("render: "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{"),t("br"),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("this")]),o._v(".$createElement("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'h2'")]),o._v(", "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'title'")]),o._v(")"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("上面这两段代码是完全等价的。")]),o._v(" "),t("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px",color:"black","font-size":"16px","font-weight":"bold","text-align":"center"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"border-bottom":"2px solid #DEC6FB",color:"#595959"}},[o._v("provide & inject")]),t("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("最后来瞧瞧provide和inject的原理。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("如果一个组件使用了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("选项，那么该选项指定的数据将会被注入到该组件的所有子组件中，在子组件中可以使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("选项选择性注入，这样子组件就拿到了父组件提供的数据。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("和"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("都是在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue.prototype._init")]),o._v("方法中完成初始化工作的：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("initLifecycle(vm)"),t("br"),o._v("initEvents(vm)"),t("br"),o._v("initRender(vm)"),t("br"),o._v("callHook(vm, "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'beforeCreate'")]),o._v(")"),t("br"),o._v("initInjections(vm)"),t("br"),o._v("initState(vm)"),t("br"),o._v("initProvide(vm)"),t("br"),o._v("callHook(vm, "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'created'")]),o._v(")"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("可以发现"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initInjections")]),o._v("函数在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initProvide")]),o._v("函数之前被调用，这说明对于任何一个组件来说，总是要优先初始化"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("选项，再初始化"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("选项的。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("先来看看"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initInjections")]),o._v("函数，它定义在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("src/core/instance/inject.js")]),o._v("文件中")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("export")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("initInjections")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("vm: Component")]),o._v(") ")]),o._v("{"),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" result = resolveInject(vm.$options.inject, vm)"),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (result) {"),t("br"),o._v("    "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// 省略...")]),t("br"),o._v("  }"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("该函数接收组件实例对象作为参数，在函数内部首先定义了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("常量，接下来要判断"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("为真才执行"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("语句内的代码。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("常量的值是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("resolveInject")]),o._v("函数的返回值。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("export")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("resolveInject")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("inject: any, vm: Component")]),o._v("): ?"),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("Object")]),o._v(" ")]),o._v("{"),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (inject) {"),t("br"),o._v("    "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// 省略...")]),t("br"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" result"),t("br"),o._v("  }"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("可以看到，"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("resolveInject")]),o._v("函数接收两个参数，分别是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("选项以及组件实例对象。如果"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("为真，那么将执行"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("语句块内的代码，最后返回"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("，否则返回"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("undefined")]),o._v("。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("语句块内的代码：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" result = "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("Object")]),o._v(".create("),t("span",{staticClass:"hljs-literal",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("null")]),o._v(")"),t("br"),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" keys = hasSymbol"),t("br"),o._v("  ? "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("Reflect")]),o._v(".ownKeys(inject).filter("),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("key")]),o._v(" =>")]),o._v(" {"),t("br"),o._v("    "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("/* istanbul ignore next */")]),t("br"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("Object")]),o._v(".getOwnPropertyDescriptor(inject, key).enumerable"),t("br"),o._v("  })"),t("br"),o._v("  : "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("Object")]),o._v(".keys(inject)"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("首先通过"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Object.create(null)")]),o._v("创建一个空对象并赋值给"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("。接着定义"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("keys")]),o._v("常量，保存"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("选项对象的每一个键名。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("首先对"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("hasSymbol")]),o._v("进行判断，如果为真，则使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Reflect.ownKeys")]),o._v("获取"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("对象中所有可枚举的键名，否则使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Object.keys")]),o._v("。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Reflect.ownKeys")]),o._v("的好处是可以支持"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Symbol")]),o._v("类型作为键名。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("接下来使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("for")]),o._v("循环遍历刚刚获取的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("keys")]),o._v("数组")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("for")]),o._v(" ("),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("let")]),o._v(" i = "),t("span",{staticClass:"hljs-number",staticStyle:{color:"#B8D7A3","line-height":"26px"}},[o._v("0")]),o._v("; i < keys.length; i++) {"),t("br"),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" key = keys[i];"),t("br"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" provideKey = inject[key].from"),t("br"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("let")]),o._v(" source = vm"),t("br"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("while")]),o._v(" (source) {"),t("br"),o._v("      "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (source._provided && hasOwn(source._provided, provideKey)) {"),t("br"),o._v("          result[key] = source._provided[provideKey]"),t("br"),o._v("          "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("break")]),t("br"),o._v("      }"),t("br"),o._v("      source = source.$parent"),t("br"),o._v("    }"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provideKey")]),o._v("常量保存的是每一个"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("选项所定义的注入对象的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("from")]),o._v("属性的值。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("strong",{staticStyle:{color:"#595959","font-weight":"bold"}},[t("span",[o._v("「")]),o._v("题外话："),t("span",[o._v("」")])]),t("br"),o._v("\n在规范化阶段中，"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("选项会被规范为一个对象，并且对象必然含有"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("from")]),o._v("属性。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("inject: ["),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'data1'")]),o._v(", "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'data2'")]),o._v("]"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("那么被规范化后"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm.$options.inject")]),o._v("选项将变为：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("{"),t("br"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'data1'")]),o._v(": { "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("from")]),o._v(": "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'data1'")]),o._v(" },"),t("br"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'data2'")]),o._v(": { "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("from")]),o._v(": "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'data2'")]),o._v(" }"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("接着"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("while")]),o._v("循环，内部有一个"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("条件判断，检测"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("source._provided")]),o._v("属性是否存在，并且"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("source._provided")]),o._v("对象自身是否拥有"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provideKey")]),o._v("键，如果有，则说明找到了注入的数据："),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("source._provided[provideKey]")]),o._v("，并将其赋值给"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("对象的同名属性。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("如果"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("为假，则执行"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("source = source.$parent")]),o._v("；\n重新赋值"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("source")]),o._v("变量，使其引用父组件，以及类推就完成了向父代组件查找数据的需求，直到找到数据为止。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("如果找不到数据：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (!source) {"),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" ("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'default'")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("in")]),o._v(" inject[key]) {"),t("br"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" provideDefault = inject[key].default"),t("br"),o._v("    result[key] = "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("typeof")]),o._v(" provideDefault === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),t("br"),o._v("      ? provideDefault.call(vm)"),t("br"),o._v("      : provideDefault"),t("br"),o._v("  } "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("else")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (process.env.NODE_ENV !== "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'production'")]),o._v(") {"),t("br"),o._v("    warn("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v('`Injection "'),t("span",{staticClass:"hljs-subst",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("${key}")]),o._v('" not found`')]),o._v(", vm)"),t("br"),o._v("  }"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("查看"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject[key]")]),o._v("对象中是否定义了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("default")]),o._v("选项，如果定义了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("default")]),o._v("选项则使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("default")]),o._v("选项提供的数据作为注入数据，否则在非生产环境下会提示开发者。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("最后如果查找到数据，则将"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("返回。但是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("常量的值可能是不存在的，所以需要进行一个"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("的判断。为真时，说明成功取得注入的数据，此时执行"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("语句块的内容。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("toggleObserving("),t("span",{staticClass:"hljs-literal",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("false")]),o._v(")"),t("br"),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("Object")]),o._v(".keys(result).forEach("),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("key")]),o._v(" =>")]),o._v(" {"),t("br"),o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("/* istanbul ignore else */")]),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (process.env.NODE_ENV !== "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'production'")]),o._v(") {"),t("br"),o._v("    defineReactive(vm, key, result[key], () => {"),t("br"),o._v("      warn("),t("br"),o._v("        "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("`Avoid mutating an injected value directly since the changes will be `")]),o._v(" +"),t("br"),o._v("        "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("`overwritten whenever the provided component re-renders. `")]),o._v(" +"),t("br"),o._v("        "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v('`injection being mutated: "'),t("span",{staticClass:"hljs-subst",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("${key}")]),o._v('"`')]),o._v(","),t("br"),o._v("        vm"),t("br"),o._v("      )"),t("br"),o._v("    })"),t("br"),o._v("  } "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("else")]),o._v(" {"),t("br"),o._v("    defineReactive(vm, key, result[key])"),t("br"),o._v("  }"),t("br"),o._v("})"),t("br"),o._v("toggleObserving("),t("span",{staticClass:"hljs-literal",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("true")]),o._v(")"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("通过遍历"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("result")]),o._v("常量并调用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("defineReactive")]),o._v("函数在当前组件实例对象"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm")]),o._v("上定义与注入名称相同的变量，并赋予取得的值。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("defineReactive")]),o._v("之前，调用了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("toggleObsesrving(false)")]),o._v("函数关闭响应式定义的开关，之后又将开关开启，这会导致使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("defineReactive")]),o._v("定义属性时不会将该属性的值转换为响应式。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("做的事很简单，先看看"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initProvide")]),o._v("的内容：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://files.mdnice.com/point.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"-webkit-box","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("export")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("initProvide")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("vm: Component")]),o._v(") ")]),o._v("{"),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" provide = vm.$options.provide"),t("br"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (provide) {"),t("br"),o._v("    vm._provided = "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("typeof")]),o._v(" provide === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),t("br"),o._v("      ? provide.call(vm)"),t("br"),o._v("      : provide"),t("br"),o._v("  }"),t("br"),o._v("}"),t("br")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("同样是接收组件实例对象作为参数。定义"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("，是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm.$options.provide")]),o._v("选项的引用，接着是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("判断语句，只有在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("选项存在时才执行。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("procide")]),o._v("可以是对象，也可以是函数，所以使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("typeof")]),o._v("检测类型，如果是函数则执行该函数获取数据，否则直接将"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("本身作为数据。最后将数据赋值给组件实例对象的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm._provided")]),o._v("属性。也就是前面说的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("内，注入的数据就是从父组件实例的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm._provided")]),o._v("属性中获取的。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("strong",{staticStyle:{color:"#595959","font-weight":"bold"}},[t("span",[o._v("「")]),o._v("最后提示："),t("span",[o._v("」")])]),t("br"),o._v(" "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("provide")]),o._v("和"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("主要在开发高阶插件/组件库时使用。并不推荐用于普通应用程序代码中。")]),o._v(" "),t("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"22px","text-align":"left",margin:"20px 10px 0px 0px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block","padding-left":"10px","border-left":"5px solid #DEC6FB",color:"#595959"}},[o._v("结尾")]),t("span",{staticClass:"suffix"})])])])}),[],!1,null,null,null);a.default=e.exports}}]);