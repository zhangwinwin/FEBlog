(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{444:function(o,a,t){"use strict";t.r(a);var n=t(57),r=Object(n.a)({},(function(){var o=this,a=o.$createElement,t=o._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[t("section",{staticStyle:{"font-size":"16px",padding:"0 10px","word-spacing":"0px","word-break":"break-word","word-wrap":"break-word","text-align":"left","line-height":"1.75",color:"#595959","font-family":"Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light","letter-spacing":"2px","background-image":"linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%)","background-size":"20px 20px","background-position":"center center"},attrs:{id:"nice","data-tool":"mdnice编辑器","data-website":"https://www.mdnice.com"}},[t("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"22px","text-align":"left",margin:"20px 10px 0px 0px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block","padding-left":"10px","border-left":"5px solid #DEC6FB",color:"#595959"}},[o._v("前言")]),t("span",{staticClass:"suffix"})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("最近关于"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("的技巧文章大热，我自己也写过一篇"),t("a",{staticStyle:{"text-decoration":"none","word-wrap":"break-word",color:"#664D9D","font-weight":"normal","border-bottom":"1px solid #664D9D"},attrs:{href:"https://juejin.im/post/6844904132193566728"}},[o._v('(vue开发中的"骚操作")')]),o._v("，但这篇文章的技巧是能在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("的文档中找到蛛丝马迹的，而有些文章说的技巧在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("文档中根本找不到踪迹！这是为什么呢？")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("当我开始阅读源码的时候，我才发现，其实这些所谓的技巧就是对源码的理解而已。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("下面我分享一下我的收获。")]),o._v(" "),t("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"22px","text-align":"left",margin:"20px 10px 0px 0px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block","padding-left":"10px","border-left":"5px solid #DEC6FB",color:"#595959"}},[o._v("隐藏在源码中的技巧")]),t("span",{staticClass:"suffix"})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("我们知道，在使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("时，要使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("new")]),o._v("关键字进行调用，这就说明"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("是一个构造函数。所以源头就是定义"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("构造函数的地方！")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("src/core/instance/index.js")]),o._v("中找到了这个构造函数")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" Vue (options) {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (process.env.NODE_ENV !== "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'production'")]),o._v(" &&\n"),t("span"),o._v("    !(this instanceof Vue)\n"),t("span"),o._v("  ) {\n"),t("span"),o._v("    warn("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'Vue is a constructor and should be called with the `new` keyword'")]),o._v(")\n"),t("span"),o._v("  }\n"),t("span"),o._v("  this._init(options)\n"),t("span"),o._v("}\n"),t("span"),o._v("initMixin(Vue)\n"),t("span"),o._v("stateMixin(Vue)\n"),t("span"),o._v("eventsMixin(Vue)\n"),t("span"),o._v("lifecycleMixin(Vue)\n"),t("span"),o._v("renderMixin(Vue)\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在构造函数中，只做一件事——执行"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("this._init(options)")]),o._v("。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("而"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("_init()")]),o._v("函数是在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initMixin(Vue)")]),o._v("中定义的")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("export")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" initMixin (Vue: Class<Component>) {\n"),t("span"),o._v("  Vue.prototype._init = "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" (options?: Object) {\n"),t("span"),o._v("    // ... _init 方法的函数体，此处省略\n"),t("span"),o._v("  }\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("以此为主线，来看看在这过程中有什么好玩的技巧。")]),o._v(" "),t("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px",color:"black","font-size":"16px","font-weight":"bold","text-align":"center"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"border-bottom":"2px solid #DEC6FB",color:"#595959"}},[o._v("解构赋值子组件data的参数")]),t("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("按照官方文档，我们一般是这样写子组件"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项的：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("props: ["),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'parentData'")]),o._v("],\n"),t("span"),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("data")])]),o._v(" () {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" {\n"),t("span"),o._v("    childData: this.parentData\n"),t("span"),o._v("  }\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("但你知道吗，也是可以这么写：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("data (vm) {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" {\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("childData")]),o._v(": vm.parentData\n"),t("span"),o._v("  }\n"),t("span"),o._v("}\n"),t("span"),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// 或者使用解构赋值")]),o._v("\n"),t("span"),o._v("data ({ parentData }) {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" {\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("childData")]),o._v(": parentData\n"),t("span"),o._v("  }\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("通过解构赋值的方式将"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("props")]),o._v("里的变量传给"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("函数中，也就是说 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v(" 函数的参数就是当前实例对象。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这是因为"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("函数的执行是用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("call()")]),o._v("方法强制绑定了当前实例对象。这发生在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("合并的阶段，接下来去看看，说不定还有一些别的收获！")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("_init()")]),o._v("函数中主要是执行一系列的初始化，其中"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("options")]),o._v("选项的合并是初始化的基础。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("vm."),t("span",{staticClass:"hljs-variable",staticStyle:{color:"#BD63C5","line-height":"26px"}},[o._v("$options")]),o._v(" = mergeOptions(\n"),t("span"),o._v("    resolveConstructorOptions(vm.constructor),\n"),t("span"),o._v("    options || {},\n"),t("span"),o._v("    vm\n"),t("span"),o._v(")\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("实例上添加了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("$options")]),o._v("属性，在那些初始化方法中，无一例外的都使用到了实例的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("$options")]),o._v("属性，即"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm.$options")]),o._v("。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("其中合并"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("就是在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeOption")]),o._v("中进行的。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("strats.data = "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" (\n"),t("span"),o._v("  parentVal: any,\n"),t("span"),o._v("  childVal: any,\n"),t("span"),o._v("  vm?: Component\n"),t("span"),o._v("): ?Function {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (!vm) {\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (childVal && typeof childVal !== "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v(") {\n"),t("span"),o._v("      process.env.NODE_ENV !== "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'production'")]),o._v(" && warn(\n"),t("span"),o._v("        "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'The \"data\" option should be a function '")]),o._v(" +\n"),t("span"),o._v("        "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'that returns a per-instance value in component '")]),o._v(" +\n"),t("span"),o._v("        "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'definitions.'")]),o._v(",\n"),t("span"),o._v("        vm\n"),t("span"),o._v("      )\n"),t("span"),o._v("\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" parentVal\n"),t("span"),o._v("    }\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" mergeDataOrFn(parentVal, childVal)\n"),t("span"),o._v("  }\n"),t("span"),o._v("\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" mergeDataOrFn(parentVal, childVal, vm)\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("上面代码是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项的合并策略函数，首先通过判断是否存在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm")]),o._v("，来判断是否为父子组件，存在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm")]),o._v("则为父组件。不管怎么，最后都是返回"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeDataOrFn")]),o._v("的执行结果。区别在于处理父组件时，透传"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm")]),o._v("。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("接下来看看"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeDataOrFn")]),o._v("函数。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("export")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" mergeDataOrFn (\n"),t("span"),o._v("  parentVal: any,\n"),t("span"),o._v("  childVal: any,\n"),t("span"),o._v("  vm?: Component\n"),t("span"),o._v("): ?Function {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (!vm) {\n"),t("span"),o._v("    // "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("in")]),o._v(" a Vue.extend merge, both should be "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("functions")]),o._v("\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (!childVal) {\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" parentVal\n"),t("span"),o._v("    }\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (!parentVal) {\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" childVal\n"),t("span"),o._v("    }\n"),t("span"),o._v("    // when parentVal & childVal are both present,\n"),t("span"),o._v("    // we need to "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" a "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" that returns the\n"),t("span"),o._v("    // merged result of both "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("functions")]),o._v("... no need to\n"),t("span"),o._v("    // check "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" parentVal is a "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" here because\n"),t("span"),o._v("    // it has to be a "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" to pass previous merges.\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("mergedDataFn")])]),o._v(" () {\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" mergeData(\n"),t("span"),o._v("        typeof childVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v(" ? childVal.call(this, this) : childVal,\n"),t("span"),o._v("        typeof parentVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v(" ? parentVal.call(this, this) : parentVal\n"),t("span"),o._v("      )\n"),t("span"),o._v("    }\n"),t("span"),o._v("  } "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("else")]),o._v(" {\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("mergedInstanceDataFn")])]),o._v(" () {\n"),t("span"),o._v("      // instance merge\n"),t("span"),o._v("      const instanceData = typeof childVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v("\n"),t("span"),o._v("        ? childVal.call(vm, vm)\n"),t("span"),o._v("        : childVal\n"),t("span"),o._v("      const defaultData = typeof parentVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v("\n"),t("span"),o._v("        ? parentVal.call(vm, vm)\n"),t("span"),o._v("        : parentVal\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (instanceData) {\n"),t("span"),o._v("        "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" mergeData(instanceData, defaultData)\n"),t("span"),o._v("      } "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("else")]),o._v(" {\n"),t("span"),o._v("        "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" defaultData\n"),t("span"),o._v("      }\n"),t("span"),o._v("    }\n"),t("span"),o._v("  }\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("函数整体是由"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("if")]),o._v("判断分支语句块组成，对"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm")]),o._v("进行判断，也使得"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeDataOrFn")]),o._v("也能区分父子组件。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("mergedDataFn")])]),o._v(" () {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" mergeData(\n"),t("span"),o._v("    typeof childVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v(" ? childVal.call(this, this) : childVal,\n"),t("span"),o._v("    typeof parentVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v(" ? parentVal.call(this, this) : parentVal\n"),t("span"),o._v("  )\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("来看这一段，当父子组件的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项同时存在，那么就返回"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergedDataFn")]),o._v("函数。"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergedDataFn")]),o._v("函数又返回"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeData")]),o._v("函数。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在mergeData函数中，执行父子组件的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项函数，注意这里的 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("childVal.call(this, this)")]),o._v(" 和 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal.call(this, this)")]),o._v("，关键在于 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("call(this, this)")]),o._v("，可以看到，第一个 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("this")]),o._v(" 指定了 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v(" 函数的作用域，而第二个 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("this")]),o._v(" 就是传递给 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v(" 函数的参数。这就是开头能用解构赋值的原理。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("接着往下看！")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("注意因为函数已经返回了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("(return)")]),o._v("，所以"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergedDataFn")]),o._v("函数还没有执行。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("以上就是处理子组件的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项时所做的事，可以发现在处理子组件选项时返回的总是一个函数。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("说完了处理子组件选项的情况，再看看处理非子组件选项的情况，也就是使用 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("new")]),o._v(" 操作符创建实例时的情况。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (!vm) {\n"),t("span"),o._v("  ...\n"),t("span"),o._v("} "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("else")]),o._v(" {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("mergedInstanceDataFn")])]),o._v(" () {\n"),t("span"),o._v("    // instance merge\n"),t("span"),o._v("    const instanceData = typeof childVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v("\n"),t("span"),o._v("      ? childVal.call(vm, vm)\n"),t("span"),o._v("      : childVal\n"),t("span"),o._v("    const defaultData = typeof parentVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v("\n"),t("span"),o._v("      ? parentVal.call(vm, vm)\n"),t("span"),o._v("      : parentVal\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (instanceData) {\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" mergeData(instanceData, defaultData)\n"),t("span"),o._v("    } "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("else")]),o._v(" {\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" defaultData\n"),t("span"),o._v("    }\n"),t("span"),o._v("  }\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("如果走"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("else")]),o._v("分支的话那么就直接返回"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergedInstanceDataFn")]),o._v("函数。其中父子组件"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项函数的执行也是用了"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("call(vm, vm)")]),o._v("方法，强制绑定当前实例对象。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("const instanceData = typeof childVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v("\n"),t("span"),o._v("  ? childVal.call(vm, vm)\n"),t("span"),o._v("  : childVal\n"),t("span"),o._v("const defaultData = typeof parentVal === "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'function'")]),o._v("\n"),t("span"),o._v("  ? parentVal.call(vm, vm)\n"),t("span"),o._v("  : parentVal\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("注意此时的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergedInstanceDataFn")]),o._v("函数同样还没有执行。所以"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeDataFn")]),o._v("函数永远返回一个函数。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("为什么这么强调返回的是一个函数呢？也就是说"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("strats.data")]),o._v("最终结果是一个函数？")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这是因为，通过函数返回的数据对象，保证了每个组件实例都要有一个唯一的数据副本，避免了组件间数据互相影响。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这个"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeDataFn")]),o._v("就是后面的初始化阶段处理执行的。"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeDataFn")]),o._v("返回是"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeData(childVal, parentVal)")]),o._v("的执行结果才是真正合并父子组件的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项。也就是到了初始化阶段才是真正合并，这是因为"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("props")]),o._v("和"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("这两个选项的初始化是先于"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项的，这就保证了能够使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("props")]),o._v("初始化"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("中的数据。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这才能在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("data")]),o._v("选项中调用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("props")]),o._v("或者"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("inject")]),o._v("的值！")]),o._v(" "),t("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px",color:"black","font-size":"16px","font-weight":"bold","text-align":"center"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"border-bottom":"2px solid #DEC6FB",color:"#595959"}},[o._v("生命周期钩子可以写成数组形式")]),t("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("生命周期钩子可以写成数组形式，不信你可以试试！")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("created: [\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'first'")]),o._v(")\n"),t("span"),o._v("    },\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'second'")]),o._v(")\n"),t("span"),o._v("    },\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'third'")]),o._v(")\n"),t("span"),o._v("    }\n"),t("span"),o._v("]\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("这啥能这么写？来看看生命周期钩子的合并处理！")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("mergeHook是用于合并生命周期钩子。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("/**\n"),t("span"),o._v(" * Hooks and props are merged as arrays.\n"),t("span"),o._v(" */")]),o._v("\n"),t("span"),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("mergeHook")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("\n"),t("span"),o._v("  parentVal: ?Array<Function>,\n"),t("span"),o._v("  childVal: ?Function | ?Array<Function>\n"),t("span")]),o._v("): ?"),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("Array")]),o._v("<"),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("Function")]),o._v("> ")]),o._v("{\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("return")]),o._v(" childVal\n"),t("span"),o._v("    ? parentVal\n"),t("span"),o._v("      ? parentVal.concat(childVal)\n"),t("span"),o._v("      : "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("Array")]),o._v(".isArray(childVal)\n"),t("span"),o._v("        ? childVal\n"),t("span"),o._v("        : [childVal]\n"),t("span"),o._v("    : parentVal\n"),t("span"),o._v("}\n"),t("span"),o._v("\n"),t("span"),o._v("LIFECYCLE_HOOKS.forEach("),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("hook")]),o._v(" =>")]),o._v(" {\n"),t("span"),o._v("  strats[hook] = mergeHook\n"),t("span"),o._v("})\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("其实从注释中也能发现"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Hooks and props are merged as arrays")]),o._v(".")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("forEach")]),o._v("遍历"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("LIFECYCLE_HOOKS")]),o._v("常量，说明"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("LIFECYCLE_HOOKS")]),o._v("是一个数组。"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("LIFECYCLE_HOOKS")]),o._v("来自于"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("shared/constants.js")]),o._v("文件。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("export")]),o._v(" const LIFECYCLE_HOOKS = [\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'beforeCreate'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'created'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'beforeMount'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'mounted'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'beforeUpdate'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'updated'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'beforeDestroy'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'destroyed'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'activated'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'deactivated'")]),o._v(",\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'errorCaptured'")]),o._v("\n"),t("span"),o._v("]\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("所以那段"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("forEach")]),o._v("语句，它的作用就是在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("strats")]),o._v("策略对象上添加用来合并各个生命周期钩子选项的函数。")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("return")]),o._v(" childVal\n"),t("span"),o._v("    ? parentVal\n"),t("span"),o._v("      ? parentVal.concat(childVal)\n"),t("span"),o._v("      : Array.isArray(childVal)\n"),t("span"),o._v("        ? childVal\n"),t("span"),o._v("        : [childVal]\n"),t("span"),o._v("    : parentVal\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("函数体由三组三目运算符组成，在经过 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeHook")]),o._v(" 函数处理之后，组件选项的生命周期钩子函数被合并成一个数组。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在第一个三目运算符中，首先判断是否有 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("childVal")]),o._v("，即组件的选项是否写了生命周期钩子函数，如果没有则直接返回了 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal")]),o._v("，这里有一个预设的假定，就是如果有 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal")]),o._v(" 那么一定是个数组，如果没有 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal")]),o._v(" 那么 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("strats[hooks]")]),o._v(" 函数根本不会执行。以 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("created")]),o._v(" 生命周期钩子函数为例：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("new")]),o._v(" Vue({\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("created")]),o._v(": "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("        "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'created'")]),o._v(")\n"),t("span"),o._v("    }\n"),t("span"),o._v("})\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("对于 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("strats.created")]),o._v(" 策略函数来讲，"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("childVal")]),o._v(" 就是例子中的 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("created")]),o._v(" 选项，它是一个函数。"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal")]),o._v(" 应该是 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue.options.created")]),o._v("，但 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue.options.created")]),o._v(" 是不存在的，所以最终经过 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("strats.created")]),o._v(" 函数的处理将返回一个数组：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("options.created = [\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'created'")]),o._v(")\n"),t("span"),o._v("  }  \n"),t("span"),o._v("]\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("再看下面的例子：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" Parent = Vue.extend({\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("created")]),o._v(": "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'parentVal'")]),o._v(")\n"),t("span"),o._v("  }\n"),t("span"),o._v("})\n"),t("span"),o._v("\n"),t("span"),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" Child = "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("new")]),o._v(" Parent({\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("created")]),o._v(": "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'childVal'")]),o._v(")\n"),t("span"),o._v("  }\n"),t("span"),o._v("})\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("其中 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Child")]),o._v(" 是使用 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("new Parent")]),o._v(" 生成的，所以对于 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Child")]),o._v(" 来讲，"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("childVal")]),o._v(" 是：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("created: "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'childVal'")]),o._v(")\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("而 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal")]),o._v(" 已经不是 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue.options.created")]),o._v(" 了，而是 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Parent.options.created")]),o._v("，那么 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Parent.options.created")]),o._v(" 是什么呢？它其实是通过 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue.extend")]),o._v(" 函数内部的 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("mergeOptions")]),o._v(" 处理过的，所以它应该是这样的：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("Parent.options.created = [\n"),t("span"),o._v("  created: "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'parentVal'")]),o._v(")\n"),t("span"),o._v("  }\n"),t("span"),o._v("]\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("经过mergeHook函数处理，关键在那句："),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal.concat(childVal)")]),o._v("，将 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("parentVal")]),o._v(" 和 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("childVal")]),o._v(" 合并成一个数组。所以最终结果如下：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v("[\n"),t("span"),o._v("  created: "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'parentVal'")]),o._v(")\n"),t("span"),o._v("  },\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("created")]),o._v(": "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}}),o._v(") ")]),o._v("{\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("console")]),o._v(".log("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'childVal'")]),o._v(")\n"),t("span"),o._v("  }\n"),t("span"),o._v("]\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("另外注意第三个三目运算符：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[o._v(": "),t("span",{staticClass:"hljs-built_in",staticStyle:{color:"#4EC9B0","line-height":"26px"}},[o._v("Array")]),o._v(".isArray(childVal)\n"),t("span"),o._v("  ? childVal\n"),t("span"),o._v("  : [childVal]\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("它判断了 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("childVal")]),o._v(" 是不是数组，这说明了生命周期钩子是可以写成数组的。这就是开头所说的原理！")]),o._v(" "),t("h3",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px",color:"black","font-size":"16px","font-weight":"bold","text-align":"center"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"border-bottom":"2px solid #DEC6FB",color:"#595959"}},[o._v("生命周期钩子的事件侦听器")]),t("span",{staticClass:"suffix",staticStyle:{display:"none"}})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("大家可能不知道什么叫做"),t("strong",{staticStyle:{color:"#595959","font-weight":"bold"}},[t("span",[o._v("「")]),o._v("生命周期钩子的事件侦听器"),t("span",[o._v("」")])]),o._v("？，其实"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("Vue")]),o._v("组件是可以这么写的：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-tag",staticStyle:{color:"#9B9B9B","line-height":"26px"}},[o._v("<"),t("span",{staticClass:"hljs-name",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("child")]),o._v("\n"),t("span"),o._v("  @"),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("hook:created")]),o._v("="),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v('"childCreated"')]),o._v("\n"),t("span"),o._v("  @"),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("hook:mounted")]),o._v("="),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v('"childMounted"')]),o._v("\n"),t("span"),o._v(" />")]),o._v("\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("在初始化中，使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("callhook(vm, 'created')")]),o._v("函数执行"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("created")]),o._v("生命周期函数，接下来瞧一瞧"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("callhook()")]),o._v("的实现方法：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("export")]),o._v(" "),t("span",{staticClass:"hljs-function",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("function")]),o._v(" "),t("span",{staticClass:"hljs-title",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("callHook")]),o._v(" ("),t("span",{staticClass:"hljs-params",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("vm: Component, hook: string")]),o._v(") ")]),o._v("{\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-comment",staticStyle:{color:"#57A64A","font-style":"italic","line-height":"26px"}},[o._v("// #7573 disable dep collection when invoking lifecycle hooks")]),o._v("\n"),t("span"),o._v("  pushTarget()\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" handlers = vm.$options[hook]\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (handlers) {\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("for")]),o._v(" ("),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("let")]),o._v(" i = "),t("span",{staticClass:"hljs-number",staticStyle:{color:"#B8D7A3","line-height":"26px"}},[o._v("0")]),o._v(", j = handlers.length; i < j; i++) {\n"),t("span"),o._v("      "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("try")]),o._v(" {\n"),t("span"),o._v("        handlers[i].call(vm)\n"),t("span"),o._v("      } "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("catch")]),o._v(" (e) {\n"),t("span"),o._v("        handleError(e, vm, "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("`"),t("span",{staticClass:"hljs-subst",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("${hook}")]),o._v(" hook`")]),o._v(")\n"),t("span"),o._v("      }\n"),t("span"),o._v("    }\n"),t("span"),o._v("  }\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (vm._hasHookEvent) {\n"),t("span"),o._v("    vm.$emit("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'hook:'")]),o._v(" + hook)\n"),t("span"),o._v("  }\n"),t("span"),o._v("  popTarget()\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("callhook()")]),o._v("函数接收两个参数：")]),o._v(" "),t("ul",{staticStyle:{"margin-top":"8px","margin-bottom":"8px","padding-left":"25px","font-size":"15px",color:"#595959","list-style-type":"circle"},attrs:{"data-tool":"mdnice编辑器"}},[t("li",[t("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left","font-size":"14px","font-weight":"normal",color:"#595959"}},[o._v("实例对象；")])]),t("li",[t("section",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","line-height":"26px","text-align":"left","font-size":"14px","font-weight":"normal",color:"#595959"}},[o._v("要调用的生命周期钩子的名称；")])])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("首先缓存生命周期函数：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" handlers = vm.$options[hook]\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("如果执行 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("callHook(vm, created)")]),o._v("，那么就相当于：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("const")]),o._v(" handlers = vm.$options.created\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("刚刚介绍过，对于生命周期钩子选项最终会被合并处理成一个数组，所以得到的"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("handlers")]),o._v("就是一个生命周期钩子的数组。接着执行的是这段代码：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (handlers) {\n"),t("span"),o._v("  "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("for")]),o._v(" ("),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("let")]),o._v(" i = "),t("span",{staticClass:"hljs-number",staticStyle:{color:"#B8D7A3","line-height":"26px"}},[o._v("0")]),o._v(", j = handlers.length; i < j; i++) {\n"),t("span"),o._v("    "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("try")]),o._v(" {\n"),t("span"),o._v("      handlers[i].call(vm)\n"),t("span"),o._v("    } "),t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("catch")]),o._v(" (e) {\n"),t("span"),o._v("      handleError(e, vm, "),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("`"),t("span",{staticClass:"hljs-subst",staticStyle:{color:"#DCDCDC","line-height":"26px"}},[o._v("${hook}")]),o._v(" hook`")]),o._v(")\n"),t("span"),o._v("    }\n"),t("span"),o._v("  }\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("最后注意到 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("callHook")]),o._v(" 函数的最后有这样一段代码：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-keyword",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("if")]),o._v(" (vm._hasHookEvent) {\n"),t("span"),o._v("  vm.$emit("),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v("'hook:'")]),o._v(" + hook)\n"),t("span"),o._v("}\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("其中 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm._hasHookEvent")]),o._v(" 是在"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("initEvents")]),o._v("函数中定义的，它的作用是判断是否存在"),t("strong",{staticStyle:{color:"#595959","font-weight":"bold"}},[t("span",[o._v("「")]),o._v("生命周期钩子的事件侦听器"),t("span",[o._v("」")])]),o._v("，初始化值为 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("false")]),o._v(" 代表没有，当组件检测到存在生命周期钩子的事件侦听器时，会将"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("vm._hasHookEvent")]),o._v("设置为 "),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("true")]),o._v("。")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("生命周期钩子的事件侦听器，就是开头说的：")]),o._v(" "),t("pre",{staticClass:"custom",staticStyle:{"margin-top":"10px","margin-bottom":"10px","border-radius":"5px","box-shadow":"rgba(0, 0, 0, 0.55) 0px 2px 10px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticStyle:{display:"block",background:"url(https://imgkr.cn-bj.ufileos.com/97e4eed2-a992-4976-acf0-ccb6fb34d308.png)",height:"30px",width:"100%","background-size":"40px","background-repeat":"no-repeat","background-color":"#1E1E1E","margin-bottom":"-7px","border-radius":"5px","background-position":"10px 10px"}}),t("code",{staticClass:"hljs",staticStyle:{"overflow-x":"auto",padding:"16px",color:"#DCDCDC",display:"block","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","font-size":"12px","-webkit-overflow-scrolling":"touch","padding-top":"15px",background:"#1E1E1E","border-radius":"5px"}},[t("span",{staticClass:"hljs-tag",staticStyle:{color:"#9B9B9B","line-height":"26px"}},[o._v("<"),t("span",{staticClass:"hljs-name",staticStyle:{color:"#569CD6","line-height":"26px"}},[o._v("child")]),o._v("\n"),t("span"),o._v("  @"),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("hook:created")]),o._v("="),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v('"childCreated"')]),o._v("\n"),t("span"),o._v("  @"),t("span",{staticClass:"hljs-attr",staticStyle:{color:"#9CDCFE","line-height":"26px"}},[o._v("hook:mounted")]),o._v("="),t("span",{staticClass:"hljs-string",staticStyle:{color:"#D69D85","line-height":"26px"}},[o._v('"childMounted"')]),o._v("\n"),t("span"),o._v(" />")]),o._v("\n"),t("span")])]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("使用"),t("code",{staticStyle:{"font-size":"14px","word-wrap":"break-word",padding:"2px 4px","border-radius":"4px",margin:"0 2px","background-color":"rgba(27,31,35,.05)","font-family":"Operator Mono, Consolas, Monaco, Menlo, monospace","word-break":"break-all",color:"#595959"}},[o._v("hook:")]),o._v("加生命周期钩子名称的方式来监听组件相应的生命周期钩子。")]),o._v(" "),t("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"22px","text-align":"left",margin:"20px 10px 0px 0px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block","padding-left":"10px","border-left":"5px solid #DEC6FB",color:"#595959"}},[o._v("总结")]),t("span",{staticClass:"suffix"})]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("1、子组件data选项函数是有参数的，而且是当前的实例对象；")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("2、生命周期钩子是可以写成数组形式，按顺序执行；")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[o._v("3、可以使用生命周期钩子的事件侦听器来注册生命周期函数")]),o._v(" "),t("p",{staticStyle:{"padding-top":"8px","padding-bottom":"8px","line-height":"26px",color:"#595959",margin:"10px 0px","letter-spacing":"2px","font-size":"14px","word-spacing":"2px"},attrs:{"data-tool":"mdnice编辑器"}},[t("strong",{staticStyle:{color:"#595959","font-weight":"bold"}},[t("span",[o._v("「")]),o._v("不过没在官方文档中写明的方法，不建议使用"),t("span",[o._v("」")])]),o._v("。")]),o._v(" "),t("h2",{staticStyle:{"margin-top":"30px","margin-bottom":"15px",padding:"0px","font-weight":"bold",color:"black","font-size":"22px","text-align":"left",margin:"20px 10px 0px 0px"},attrs:{"data-tool":"mdnice编辑器"}},[t("span",{staticClass:"prefix",staticStyle:{display:"none"}}),t("span",{staticClass:"content",staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block","padding-left":"10px","border-left":"5px solid #DEC6FB",color:"#595959"}},[o._v("结尾")]),t("span",{staticClass:"suffix"})])])])}),[],!1,null,null,null);a.default=r.exports}}]);